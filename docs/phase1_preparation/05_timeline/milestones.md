# 项目里程碑计划

## 总体时间线

| 阶段 | 周期 | 开始日期 | 结束日期 | 状态 |
|------|------|----------|----------|------|
| Phase 1: 准备阶段 | 2-3 周 | 2026-02-04 | 2026-02-25 | 🟡 进行中 |
| Phase 2: 技术验证 | 3-4 周 | 2026-02-26 | 2026-03-25 | ⚪ 待开始 |
| Phase 3: 全量重写 | 4-5 月 | 2026-03-26 | 2026-08-31 | ⚪ 待开始 |
| Phase 4: 切换上线 | 2-3 周 | 2026-09-01 | 2026-09-21 | ⚪ 待开始 |

**硬性 Deadline: 2026-08-31**

---

## Phase 1: 准备阶段 (2026-02-04 ~ 2026-02-25)

### Week 1 (02-04 ~ 02-10)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ✅ 创建迁移文档目录结构 | AI | ✅ 完成 |
| ✅ 编写功能清单 | AI | ✅ 完成 |
| ⬜ 导出当前数据库 Schema | User | ⚪ 待开始 |
| ⬜ 审核功能优先级 | User | ⚪ 待开始 |

### Week 2 (02-11 ~ 02-17)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 确认技术栈选型 | User + AI | ⚪ 待开始 |
| ⬜ 设计新 Schema | AI | ⚪ 待开始 |
| ⬜ 编写数据映射文档 | AI | ⚪ 待开始 |
| ⬜ 定义 API 规范 | AI | ⚪ 待开始 |

### Week 3 (02-18 ~ 02-25)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 初始化 Monorepo 脚手架 | AI | ⚪ 待开始 |
| ⬜ 配置开发环境 | User + AI | ⚪ 待开始 |
| ⬜ PostgreSQL 本地容器化 | AI | ⚪ 待开始 |
| ⬜ 准备阶段评审 | User | ⚪ 待开始 |

---

## Phase 2: 技术验证 (2026-02-26 ~ 2026-03-25)

### MVP 目标
实现最小可运行原型，包含：
1. 用户登录/登出
2. 产品列表 CRUD
3. 一个完整的 Wizard (如新增产品)

### Week 4-5 (02-26 ~ 03-10)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 搭建 NestJS 后端 | AI | ⚪ 待开始 |
| ⬜ 实现 Auth 模块 | AI | ⚪ 待开始 |
| ⬜ 实现 Products 模块 | AI | ⚪ 待开始 |
| ⬜ Prisma Schema 定义 | AI | ⚪ 待开始 |

### Week 6-7 (03-11 ~ 03-25)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 搭建 Next.js 前端 | AI | ⚪ 待开始 |
| ⬜ 实现登录页面 | AI | ⚪ 待开始 |
| ⬜ 实现产品列表页 | AI | ⚪ 待开始 |
| ⬜ 实现新增产品向导 | AI | ⚪ 待开始 |
| ⬜ **决策点: 继续 or 止损** | User | ⚪ 待开始 |

---

## Phase 3: 全量重写 (2026-03-26 ~ 2026-08-31)

### 模块重写顺序

| 月份 | 模块 | 预估工时 |
|------|------|----------|
| 4 月 | User Admin (认证/权限) | 2 周 |
| 4 月 | Products + Inventory 基础 | 2 周 |
| 5 月 | Purchase: Supplier | 1 周 |
| 5 月 | Purchase: PO Create/Mgmt | 3 周 |
| 6 月 | Purchase: Send/Receive | 3 周 |
| 6 月 | Finance: 付款模块 | 2 周 |
| 7 月 | Sales: 交易上传 + ETL | 3 周 |
| 7 月 | Inventory: 动态库存 + FIFO | 2 周 |
| 8 月 | DB Admin + Audit | 2 周 |
| 8 月 | 集成测试 + Bug 修复 | 2 周 |

### 里程碑检查点

| 检查点 | 日期 | 验收标准 |
|--------|------|----------|
| M1: Auth 完成 | 04-15 | 登录/登出/权限正常 |
| M2: Purchase 完成 | 06-15 | 采购全流程可用 |
| M3: Finance 完成 | 06-30 | 付款流程可用 |
| M4: Sales 完成 | 07-31 | 交易上传可用 |
| M5: 功能冻结 | 08-15 | 不再添加新功能 |
| M6: 代码冻结 | 08-31 | 只修 Bug |

---

## Phase 4: 切换上线 (2026-09-01 ~ 2026-09-21)

### Week 1 (09-01 ~ 09-07)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 数据迁移脚本测试 | AI | ⚪ 待开始 |
| ⬜ 全量数据迁移 (测试环境) | AI | ⚪ 待开始 |
| ⬜ 数据验证 | User | ⚪ 待开始 |

### Week 2 (09-08 ~ 09-14)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 灰度上线 (1-2 用户) | User | ⚪ 待开始 |
| ⬜ 收集反馈 | User | ⚪ 待开始 |
| ⬜ 紧急 Bug 修复 | AI | ⚪ 待开始 |

### Week 3 (09-15 ~ 09-21)
| 任务 | 负责人 | 状态 |
|------|--------|------|
| ⬜ 全量切换 | User | ⚪ 待开始 |
| ⬜ 老系统下线 | User | ⚪ 待开始 |
| ⬜ 项目复盘 | User + AI | ⚪ 待开始 |

---

## 风险控制

### 止损条件
以下任一条件成立，应停止迁移：

1. ❌ Phase 2 结束时，MVP 未完成
2. ❌ 6 个月内任一里程碑延期超过 2 周
3. ❌ 发现无法解决的技术障碍
4. ❌ 老系统必须添加新功能 (业务优先)

### 回滚计划
- 老系统始终保持可运行状态
- 切换后 2 周内保留回滚能力
- 数据可双向同步 (如有必要)

---

*Last Updated: 2026-02-04*
