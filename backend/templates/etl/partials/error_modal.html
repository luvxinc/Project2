{% load security_tags %}

<!-- Error Modal - Centered in Content Area -->
<div class="error-container">
    <div class="error-modal-box">
        <div class="error-icon">
            <i class="fa-solid fa-triangle-exclamation"></i>
        </div>
        <h4 class="error-title" data-i18n="modal.error.title">操作失败</h4>
        <p class="error-message">{{ error_message }}</p>
        <button type="button" class="btn btn-outline-light rounded-pill px-4"
            hx-get="{% url 'web_ui:sales:transactions:tab_transaction' %}" hx-target="#etl-tab-content">
            <i class="fa-solid fa-rotate-left me-2"></i><span data-i18n="ui.icon_3090">重试</span>
        </button>
    </div>
</div>

<style>
    .error-container {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 400px;
        padding: 40px 20px;
    }

    .error-modal-box {
        background: linear-gradient(145deg, #1a1a1a, #0d0d0d);
        border: 3px solid #dc3545;
        border-radius: 16px;
        padding: 40px 60px;
        text-align: center;
        max-width: 500px;
        animation: pulseGlowRed 1.5s ease-in-out infinite, fadeInScale 0.3s ease-out;
    }

    .error-icon {
        font-size: 4rem;
        color: #dc3545;
        margin-bottom: 20px;
        animation: shake 0.5s ease-in-out;
    }

    .error-title {
        color: #dc3545;
        font-weight: bold;
        margin-bottom: 15px;
    }

    .error-message {
        color: #fff;
        font-size: 1.1rem;
        margin-bottom: 30px;
        line-height: 1.6;
    }

    .error-confirm-btn {
        min-width: 150px;
        font-weight: bold;
    }

    /* Pulsing red glow animation */
    @keyframes pulseGlowRed {

        0%,
        100% {
            box-shadow: 0 0 20px rgba(220, 53, 69, 0.4),
                0 0 40px rgba(220, 53, 69, 0.2),
                inset 0 0 20px rgba(220, 53, 69, 0.1);
        }

        50% {
            box-shadow: 0 0 30px rgba(220, 53, 69, 0.7),
                0 0 60px rgba(220, 53, 69, 0.4),
                0 0 90px rgba(220, 53, 69, 0.2),
                inset 0 0 30px rgba(220, 53, 69, 0.15);
        }
    }

    /* Fade in with scale */
    @keyframes fadeInScale {
        0% {
            opacity: 0;
            transform: scale(0.8);
        }

        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Shake animation for icon */
    @keyframes shake {

        0%,
        100% {
            transform: translateX(0);
        }

        20% {
            transform: translateX(-10px);
        }

        40% {
            transform: translateX(10px);
        }

        60% {
            transform: translateX(-10px);
        }

        80% {
            transform: translateX(10px);
        }
    }
</style>