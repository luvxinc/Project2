<!-- 
    操作失败/错误 Modal 组件
    使用方法: {% include "components/security_error_modal.html" %}
    
    需要在页面中定义的回调函数 (可选):
    - onErrorConfirm(): 点击"确定"按钮时调用
    
    如果不定义该函数，默认行为是刷新页面 location.reload()
    
    提供的元素 ID:
    - errorModal: Modal 本身
    - error-msg-content: 错误消息显示区
-->

<!-- Error Modal (Red Glow, Apple Style) -->
<div class="modal fade" id="errorModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content glass-card border border-danger shadow-lg error-modal-glow">
            <div class="modal-header border-0">
                <h5 class="modal-title text-danger"><i class="fas fa-exclamation-triangle me-2"></i><span data-i18n="modal.error.title">操作失败</span></h5>
            </div>
            <div class="modal-body text-center py-4">
                <div class="mb-3">
                    <i class="fas fa-times-circle fa-4x text-danger"></i>
                </div>
                <h5 class="text-white mb-3" data-i18n="modal.error.default_msg">操作未能完成</h5>
                <p class="text-white-50" id="error-msg-content"></p>
            </div>
            <div class="modal-footer border-0 justify-content-center">
                <button type="button" class="btn btn-danger rounded-pill px-4"
                    onclick="typeof onErrorConfirm === 'function' ? onErrorConfirm() : location.reload()">
                    <i class="fas fa-check me-2"></i><span data-i18n="modal.btn.confirm">确定</span>
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    /* 错误Modal红色发光边框 */
    @keyframes glow-red {

        0%,
        100% {
            box-shadow: 0 0 10px rgba(220, 53, 69, 0.5), 0 0 20px rgba(220, 53, 69, 0.3);
        }

        50% {
            box-shadow: 0 0 20px rgba(220, 53, 69, 0.8), 0 0 40px rgba(220, 53, 69, 0.5);
        }
    }

    .error-modal-glow {
        animation: glow-red 1.5s ease-in-out infinite;
    }
</style>