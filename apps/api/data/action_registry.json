{
  "_meta": {
    "version": "5.0",
    "description": "全站功能动作注册表 (L0-L4 Security Matrix) - 三层架构版本"
  },
  "modules": [
    {
      "key": "sales",
      "name": "销售板块",
      "submodules": [
        {
          "key": "transactions",
          "name": "交易数据",
          "tabs": [
            {
              "key": "upload",
              "name": "交易数据上传",
              "actions": [
                {
                  "key": "btn_commit_sku_fix",
                  "name": "提交SKU修正",
                  "description": "确认人工修正的异常 SKU 数据。"
                },
                {
                  "key": "btn_run_transform",
                  "name": "确认数据入库",
                  "description": "将处理完成的数据写入销售数据表。"
                }
              ]
            }
          ]
        },
        {
          "key": "reports",
          "name": "报表中心",
          "tabs": [
            {
              "key": "generate",
              "name": "报表生成器",
              "actions": [
                {
                  "key": "btn_generate_report",
                  "name": "生成报表",
                  "description": "启动全量分析引擎生成商业智能报表。"
                }
              ]
            },
            {
              "key": "center",
              "name": "报表查看",
              "actions": [
                {
                  "key": "btn_download_report",
                  "name": "下载报表",
                  "description": "下载单个或打包下载所有报表文件。"
                },
                {
                  "key": "btn_clear_reports",
                  "name": "清空报表",
                  "description": "清空当前用户的所有报表文件。"
                }
              ]
            }
          ]
        },
        {
          "key": "visuals",
          "name": "数据可视化",
          "tabs": [
            {
              "key": "dashboard",
              "name": "交互式看板",
              "actions": [
                {
                  "key": "btn_unlock_visuals",
                  "name": "解锁视图",
                  "description": "进入数据可视化模块前必须通过的身份验证。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "purchase",
      "name": "采购板块",
      "submodules": [
        {
          "key": "supplier",
          "name": "供应商管理",
          "tabs": [
            {
              "key": "add",
              "name": "新增供应商",
              "actions": [
                {
                  "key": "btn_add_supplier",
                  "name": "确认新增供应商",
                  "displayName": "新增供应商",
                  "description": "创建新的供应商档案。"
                }
              ]
            },
            {
              "key": "strategy",
              "name": "供应商管理",
              "actions": [
                {
                  "key": "btn_modify_strategy",
                  "name": "确认修改策略",
                  "displayName": "修改策略",
                  "description": "修改供应商合作策略。"
                }
              ]
            }
          ]
        },
        {
          "key": "po_mgmt",
          "name": "订单管理",
          "tabs": [
            {
              "key": "create",
              "name": "新建订单",
              "actions": [
                {
                  "key": "btn_po_create",
                  "name": "确认新建采购订单",
                  "displayName": "新建采购订单",
                  "description": "创建新的采购订单并写入数据库。"
                }
              ]
            },
            {
              "key": "modify",
              "name": "修改订单",
              "actions": [
                {
                  "key": "btn_po_modify",
                  "name": "确认修改订单",
                  "displayName": "修改订单",
                  "description": "修改采购订单的策略或明细。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除订单",
              "actions": [
                {
                  "key": "btn_po_delete",
                  "name": "确认删除订单",
                  "displayName": "删除订单",
                  "description": "将采购订单标记为已删除。"
                }
              ]
            },
            {
              "key": "undelete",
              "name": "撤销删除",
              "actions": [
                {
                  "key": "btn_po_undelete",
                  "name": "撤销删除订单",
                  "displayName": "撤销删除订单",
                  "description": "恢复已删除的采购订单。"
                }
              ]
            },
            {
              "key": "upload_invoice",
              "name": "上传账单",
              "actions": [
                {
                  "key": "btn_po_upload_invoice",
                  "name": "上传账单文件",
                  "displayName": "上传账单文件",
                  "description": "上传或替换订单的厂商账单文件。"
                }
              ]
            },
            {
              "key": "delete_invoice",
              "name": "删除账单",
              "actions": [
                {
                  "key": "btn_po_delete_invoice",
                  "name": "删除账单文件",
                  "displayName": "删除账单文件",
                  "description": "删除订单的账单文件（不可恢复）。"
                }
              ]
            }
          ]
        },
        {
          "key": "send_mgmt",
          "name": "发货单管理",
          "tabs": [
            {
              "key": "create",
              "name": "新建发货单",
              "actions": [
                {
                  "key": "send_order_create",
                  "name": "确认新建发货单",
                  "displayName": "新建发货单",
                  "description": "创建新的发货单并写入数据库。"
                }
              ]
            },
            {
              "key": "modify",
              "name": "修改发货单",
              "actions": [
                {
                  "key": "btn_send_modify",
                  "name": "确认修改发货单",
                  "displayName": "修改发货单",
                  "description": "修改发货单的物流参数或货物明细。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除发货单",
              "actions": [
                {
                  "key": "btn_send_delete",
                  "name": "确认删除发货单",
                  "displayName": "删除发货单",
                  "description": "将发货单标记为已删除。"
                }
              ]
            },
            {
              "key": "undelete",
              "name": "撤销删除",
              "actions": [
                {
                  "key": "btn_send_undelete",
                  "name": "撤销删除发货单",
                  "displayName": "撤销删除发货单",
                  "description": "恢复已删除的发货单。"
                }
              ]
            },
            {
              "key": "upload_invoice",
              "name": "上传账单",
              "actions": [
                {
                  "key": "btn_send_upload_invoice",
                  "name": "上传账单文件",
                  "displayName": "上传账单文件",
                  "description": "上传或替换发货单的物流账单文件。"
                }
              ]
            },
            {
              "key": "delete_invoice",
              "name": "删除账单",
              "actions": [
                {
                  "key": "btn_send_delete_invoice",
                  "name": "删除账单文件",
                  "displayName": "删除账单文件",
                  "description": "删除发货单的账单文件（不可恢复）。"
                }
              ]
            }
          ]
        },
        {
          "key": "receive",
          "name": "货物入库",
          "tabs": [
            {
              "key": "confirm",
              "name": "确认入库",
              "actions": [
                {
                  "key": "btn_receive_confirm",
                  "name": "确认货物入库",
                  "displayName": "确认入库",
                  "description": "确认收货数量并完成入库操作。"
                }
              ]
            },
            {
              "key": "edit",
              "name": "修改入库单",
              "actions": [
                {
                  "key": "btn_receive_mgmt_edit",
                  "name": "确认修改入库单",
                  "displayName": "确认入库",
                  "description": "确认修改入库数量并保存。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除入库单",
              "actions": [
                {
                  "key": "btn_receive_delete",
                  "name": "确认删除入库单",
                  "displayName": "删除入库单",
                  "description": "将入库单标记为已删除。"
                }
              ]
            },
            {
              "key": "undelete",
              "name": "撤销删除",
              "actions": [
                {
                  "key": "btn_receive_undelete",
                  "name": "撤销删除入库单",
                  "displayName": "撤销删除入库单",
                  "description": "恢复已删除的入库单。"
                }
              ]
            },
            {
              "key": "delete_file",
              "name": "删除入库文件",
              "actions": [
                {
                  "key": "btn_receive_delete_file",
                  "name": "删除入库文件",
                  "displayName": "删除入库文件",
                  "description": "删除入库单的入库文件（不可恢复）。"
                }
              ]
            }
          ]
        },
        {
          "key": "abnormal",
          "name": "入库异常处理",
          "tabs": [
            {
              "key": "process",
              "name": "处理异常",
              "actions": [
                {
                  "key": "btn_abnormal_process",
                  "name": "确认处理入库异常",
                  "displayName": "处理入库异常",
                  "description": "执行入库异常处理操作，修正发货单或订单数据。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除异常处理",
              "actions": [
                {
                  "key": "btn_abnormal_delete",
                  "name": "删除异常处理记录",
                  "displayName": "删除异常处理",
                  "description": "删除已处理的异常记录，撤销之前的修正操作。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "finance",
      "name": "财务板块",
      "submodules": [
        {
          "key": "logistic",
          "name": "物流财务管理",
          "tabs": [
            {
              "key": "payment",
              "name": "物流付款",
              "actions": [
                {
                  "key": "logistic_payment_confirm",
                  "name": "确认物流付款",
                  "displayName": "确认付款",
                  "description": "批量确认物流单付款并写入付款记录。"
                },
                {
                  "key": "logistic_payment_delete",
                  "name": "删除付款记录",
                  "displayName": "删除付款",
                  "description": "删除指定付款批次的付款记录。"
                },
                {
                  "key": "logistic_payment_file_delete",
                  "name": "删除付款文件",
                  "displayName": "删除文件",
                  "description": "删除付款批次的附件文件。"
                },
                {
                  "key": "logistic_payment_file_upload",
                  "name": "上传付款文件",
                  "displayName": "上传文件",
                  "description": "上传付款批次的附件文件。"
                }
              ]
            }
          ]
        },
        {
          "key": "prepay",
          "name": "供应商预付款管理",
          "tabs": [
            {
              "key": "submit",
              "name": "新增预付款",
              "actions": [
                {
                  "key": "btn_prepay_submit",
                  "name": "确认新增预付款",
                  "displayName": "新增预付款",
                  "description": "向供应商账户新增预付款记录。"
                }
              ]
            },
            {
              "key": "manage",
              "name": "预付款管理",
              "actions": [
                {
                  "key": "btn_prepay_delete",
                  "name": "删除预付款",
                  "displayName": "删除预付款",
                  "description": "删除指定的预付款记录（软删除）。"
                },
                {
                  "key": "btn_prepay_undelete",
                  "name": "恢复预付款",
                  "displayName": "恢复预付款",
                  "description": "恢复已删除的预付款记录。"
                },

                {
                  "key": "btn_prepay_upload_file",
                  "name": "上传付款文件",
                  "displayName": "上传文件",
                  "description": "上传预付款的附件文件。"
                },
                {
                  "key": "btn_prepay_delete_file",
                  "name": "删除付款文件",
                  "displayName": "删除文件",
                  "description": "删除预付款的附件文件。"
                }
              ]
            }
          ]
        },
        {
          "key": "deposit",
          "name": "定金管理",
          "tabs": [
            {
              "key": "payment",
              "name": "定金付款",
              "actions": [
                {
                  "key": "deposit_payment_submit",
                  "name": "确认定金付款",
                  "displayName": "定金付款",
                  "description": "批量确认定金付款并写入付款记录。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除定金付款",
              "actions": [
                {
                  "key": "deposit_payment_delete",
                  "name": "确认删除定金",
                  "displayName": "删除定金",
                  "description": "删除定金付款记录并恢复预付款。"
                }
              ]
            },
            {
              "key": "receipt",
              "name": "付款回执管理",
              "actions": [
                {
                  "key": "deposit_receipt_upload",
                  "name": "上传付款回执",
                  "displayName": "上传回执",
                  "description": "上传定金付款的附件回执文件。"
                },
                {
                  "key": "deposit_receipt_delete",
                  "name": "删除付款回执",
                  "displayName": "删除回执",
                  "description": "删除定金付款的附件回执文件。"
                }
              ]
            }
          ]
        },
        {
          "key": "po_payment",
          "name": "订单付款管理",
          "tabs": [
            {
              "key": "payment",
              "name": "订单付款",
              "actions": [
                {
                  "key": "po_payment_submit",
                  "name": "确认订单付款",
                  "displayName": "订单付款",
                  "description": "批量确认订单付款并写入付款记录。"
                }
              ]
            },
            {
              "key": "delete",
              "name": "删除订单付款",
              "actions": [
                {
                  "key": "po_payment_delete",
                  "name": "确认删除订单付款",
                  "displayName": "删除付款",
                  "description": "删除订单付款记录并恢复预付款。"
                }
              ]
            },
            {
              "key": "receipt",
              "name": "付款回执管理",
              "actions": [
                {
                  "key": "po_receipt_upload",
                  "name": "上传付款回执",
                  "displayName": "上传回执",
                  "description": "上传订单付款的附件回执文件。"
                },
                {
                  "key": "po_receipt_delete",
                  "name": "删除付款回执",
                  "displayName": "删除回执",
                  "description": "删除订单付款的附件回执文件。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "inventory",
      "name": "库存板块",
      "submodules": [
        {
          "key": "stocktake",
          "name": "盘存管理",
          "tabs": [
            {
              "key": "upload",
              "name": "上传盘存",
              "actions": [
                {
                  "key": "btn_sync_inventory",
                  "name": "同步盘存数据",
                  "description": "将上传的盘存数据写入盘存表。"
                }
              ]
            },
            {
              "key": "modify",
              "name": "修改库存",
              "actions": [
                {
                  "key": "btn_update_single_inv",
                  "name": "修正单品库存",
                  "description": "修改指定日期列通过 SKU 的库存数值。"
                },
                {
                  "key": "btn_drop_inv_col",
                  "name": "删除库存列",
                  "description": "物理删除整列库存数据 (高危)。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "products",
      "name": "产品板块",
      "submodules": [
        {
          "key": "catalog",
          "name": "产品目录",
          "tabs": [
            {
              "key": "cogs",
              "name": "COGS 档案",
              "actions": [
                {
                  "key": "btn_batch_update_cogs",
                  "name": "批量更新档案",
                  "description": "批量修改 COGS/Cost/Freight 信息。"
                }
              ]
            },
            {
              "key": "create",
              "name": "新增 SKU",
              "actions": [
                {
                  "key": "btn_create_skus",
                  "name": "批量新建 SKU",
                  "description": "批量创建 SKU 并初始化库存。"
                }
              ]
            }
          ]
        },
        {
          "key": "barcode",
          "name": "外包装条形码",
          "tabs": [
            {
              "key": "generate",
              "name": "生成条形码",
              "actions": [
                {
                  "key": "btn_generate_barcode",
                  "name": "生成外包装条形码",
                  "displayName": "生成条形码",
                  "description": "根据 SKU 和包装规格批量生成条形码 PDF 文件。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "db_admin",
      "name": "数据库运维",
      "submodules": [
        {
          "key": "backup",
          "name": "备份管理",
          "tabs": [
            {
              "key": "create",
              "name": "创建备份",
              "actions": [
                {
                  "key": "btn_create_backup",
                  "name": "创建备份",
                  "description": "执行全量数据库备份 (mysqldump)。"
                }
              ]
            },
            {
              "key": "restore",
              "name": "数据恢复",
              "actions": [
                {
                  "key": "btn_restore_db",
                  "name": "恢复数据库",
                  "description": "从历史快照恢复数据库 (高危操作)。"
                }
              ]
            },
            {
              "key": "manage",
              "name": "备份管理",
              "actions": [
                {
                  "key": "btn_delete_backup",
                  "name": "删除备份文件",
                  "description": "物理删除历史备份文件。"
                }
              ]
            }
          ]
        },
        {
          "key": "cleanup",
          "name": "数据清洗",
          "tabs": [
            {
              "key": "delete",
              "name": "数据清洗",
              "actions": [
                {
                  "key": "btn_clean_data",
                  "name": "数据清洗",
                  "description": "按日期范围物理删除业务数据。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "user_admin",
      "name": "用户权限管理",
      "submodules": [
        {
          "key": "users",
          "name": "用户管理",
          "tabs": [
            {
              "key": "list",
              "name": "用户列表",
              "actions": [
                {
                  "key": "btn_create_user",
                  "name": "注册新用户",
                  "description": "创建新的登录账号。"
                },
                {
                  "key": "btn_toggle_user_lock",
                  "name": "账户锁定/解锁",
                  "description": "更改用户的封禁状态。"
                },
                {
                  "key": "btn_change_user_role",
                  "name": "用户等级变更",
                  "description": "变更用户的管理职级。"
                },
                {
                  "key": "btn_reset_pwd",
                  "name": "重置密码",
                  "description": "强制修改用户的登录密码。"
                },
                {
                  "key": "btn_update_perms",
                  "name": "板块管理",
                  "description": "修改用户的模块访问权限。"
                },
                {
                  "key": "btn_delete_user",
                  "name": "删除用户",
                  "description": "永久删除用户档案及其关联数据。"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "key": "log",
      "name": "日志系统",
      "submodules": [
        {
          "key": "dashboard",
          "name": "日志中心",
          "tabs": [
            {
              "key": "security",
              "name": "安全操作",
              "actions": [
                {
                  "key": "btn_unlock_view",
                  "name": "解锁敏感信息",
                  "description": "解锁并查看所有脱敏数据。"
                },
                {
                  "key": "btn_toggle_dev_mode",
                  "name": "切换开发者模式",
                  "description": "切换日志系统的开发模式状态。"
                },
                {
                  "key": "btn_clear_dev_logs",
                  "name": "清理开发日志",
                  "description": "清理所有标记为开发模式的日志记录，此操作不可逆。"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}