---
name: agent-mastery
description: Agent è¡Œä¸ºä¼˜åŒ– SOPã€‚Use when éœ€è¦éªŒè¯å¾ªç¯ã€æ¸è¿›æ£€ç´¢ã€ä¸Šä¸‹æ–‡ç®¡ç†å’Œæ‰§è¡Œä¹ æƒ¯ä¼˜åŒ–ã€‚
---

# Agent è¡Œä¸ºç²¾é€š

> **âš ï¸ æœ¬æ–‡ä»¶ ~10KBã€‚æ ¹æ®ä¸‹æ–¹è·¯ç”±è¡¨è·³åˆ°éœ€è¦çš„ section, ä¸è¦å…¨éƒ¨é˜…è¯»ã€‚**
> **ğŸ”´ ç¼–ç è§„èŒƒ/éªŒè¯å¾ªç¯/åæ¨¡å¼å·²è¿ç§»åˆ° `core/rules/` ç›®å½• (å¼ºåˆ¶è§„åˆ™)ã€‚æœ¬æ–‡ä»¶ä¿ç•™ Agent è¡Œä¸ºä¼˜åŒ–ã€‚**

## è·¯ç”±è¡¨

| å…³é”®è¯ | è·³è½¬ |
|--------|------|
| `éªŒè¯`, `loop`, `æ£€æŸ¥`, `PR` | â†’ `core/rules/common.md` Â§5 éªŒè¯å¾ªç¯ |
| `æ£€ç´¢`, `æœç´¢`, `codebase`, `æŸ¥æ‰¾` | â†’ Â§1 æ¸è¿›æ£€ç´¢ |
| `ç¼–ç `, `å‘½å`, `è§„èŒƒ`, `ä»£ç é£æ ¼` | â†’ `core/rules/common.md` Â§1 ä»£ç é£æ ¼ |
| `ä¸Šä¸‹æ–‡`, `context`, `token`, `ç¯‡å¹…` | â†’ Â§2 ä¸Šä¸‹æ–‡çª—å£ç®¡ç† |
| `é”™è¯¯`, `error`, `å¼‚å¸¸`, `å¡æ­»` | â†’ Â§3 é”™è¯¯/è¿›ç¨‹ç®¡ç† |
| `å­¦ä¹ `, `æŒç»­æ”¹è¿›`, `ç»éªŒ` | â†’ Â§4 æŒç»­å­¦ä¹  |
| `skill seekers`, `è‡ªåŠ¨åŒ–`, `æŠ€èƒ½ç”Ÿæˆ` | â†’ Â§5 Skill Seekers |

---

> **æ¥æº**: [everything-claude-code](https://github.com/affaan-m/everything-claude-code) (Anthropic Hackathon Winner, 42K+ â­)
> **é€‚é…**: æ³›åŒ–ç‰ˆæœ¬, é€‚ç”¨äºä»»ä½•ä¼ä¸šçº§é¡¹ç›®ã€‚é¡¹ç›®ç‰¹å®šé€‚é…åœ¨ `.agent/projects/{project}/` ä¸­ã€‚

---

## 1. æ¸è¿›æ£€ç´¢ (Iterative Retrieval)

Agent å¤„ç†å¤æ‚ä»»åŠ¡æ—¶, ç”¨ 4 é˜¶æ®µå¾ªç¯é€æ­¥ç²¾ç‚¼ä¸Šä¸‹æ–‡:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DISPATCH â”‚â”€â”€â”€â”€â”€â–¶â”‚ EVALUATE â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                  â”‚
     â”‚                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   LOOP   â”‚â—€â”€â”€â”€â”€â”€â”‚  REFINE  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      æœ€å¤š 3 è½®, ç„¶åæ‰§è¡Œ
```

| é˜¶æ®µ | è¡Œä¸º | è¯´æ˜ |
|------|------|------|
| **DISPATCH** | å¹¿æ³›æœç´¢å€™é€‰æ–‡ä»¶ | `grep_search` + `find_by_name` æ‰«æç›®æ ‡æ¨¡å— |
| **EVALUATE** | è¯„ä¼°ç›¸å…³æ€§ (0-1 åˆ†) | â‰¥ 0.7 ä¿ç•™, < 0.2 æ’é™¤ |
| **REFINE** | å‘ç°ç¼ºå¤±, è°ƒæ•´æœç´¢ | åŠ å…¥å‘ç°çš„æ–°å…³é”®è¯/è·¯å¾„ |
| **LOOP** | é‡å¤ (æœ€å¤š 3 è½®) | 3 ä¸ªé«˜ç›¸å…³æ–‡ä»¶ä¼˜äº 10 ä¸ªå¹³åº¸æ–‡ä»¶ |

### æ£€ç´¢ç­–ç•¥

```
ç¬¬ 1 è½®: æœç´¢ç›®æ ‡æ¨¡å—ç›®å½• + ç›¸å…³ Skill
ç¬¬ 2 è½®: æœç´¢ä¾èµ–æ¨¡å— + å…±äº«ç±»å‹
ç¬¬ 3 è½®: æœç´¢æµ‹è¯•/è¿ç§»çº¦æŸ (å¦‚æœéœ€è¦)
```

---

## 2. ä¸Šä¸‹æ–‡çª—å£ç®¡ç† (Context Window)

### 2.1 å±é™©é˜ˆå€¼

| é˜¶æ®µ | ä½¿ç”¨ç‡ | è¡ŒåŠ¨ |
|------|--------|------|
| ğŸŸ¢ å®‰å…¨ | < 50% | æ­£å¸¸å·¥ä½œ |
| ğŸŸ¡ è­¦å‘Š | 50-70% | å‡†å¤‡ä¿å­˜æ£€æŸ¥ç‚¹ |
| ğŸŸ  é«˜å± | 70-85% | ç«‹å³ä¿å­˜, è€ƒè™‘æ–°å¯¹è¯ |
| ğŸ”´ å±é™© | > 85% | åœæ­¢, ä¿å­˜, æ–°å¯¹è¯ |

### 2.2 å±é™©ä¿¡å·

- Agent å›ç­”å˜æ…¢/é‡å¤
- Agent å¿˜è®°ä¹‹å‰çš„çº¦å®š
- Agent åå¤é—®ç›¸åŒé—®é¢˜
- Agent å›ç­”ä¸ä¹‹å‰çŸ›ç›¾

### 2.3 Skill åŠ è½½çºªå¾‹

```
è§„åˆ™:
1. æ¯æ¬¡ä»»åŠ¡æœ€å¤šåŠ è½½ 2 ä¸ª Skill æ–‡ä»¶
2. å®Œæˆä»»åŠ¡åç«‹å³é‡Šæ”¾å¤§ Skill
3. æ°¸è¿œä¸ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰ V3 Skills (~33500 tokens)
4. ä¼˜å…ˆè¯» SKILL.md ç´¢å¼•, å†æŒ‰æŒ‡å¼•åŠ è½½å…·ä½“ Skill
```

### 2.4 æ£€æŸ¥ç‚¹æµç¨‹ (é•¿ä¼šè¯)

```
1. åœæ­¢å½“å‰æ“ä½œ
2. è®°å½•: å·²å®Œæˆé¡¹ + ä¸‹ä¸€æ­¥ + å…³é”®ä¸Šä¸‹æ–‡
3. ä¿å­˜åˆ° docs/ æˆ–è¾“å‡ºç»™ç”¨æˆ·
4. ç»“æŸå¯¹è¯
5. æ–°å¯¹è¯ä»æ£€æŸ¥ç‚¹æ¢å¤
```

---

## 3. é”™è¯¯å¤„ç†ä¸è¿›ç¨‹ç®¡ç†

> **è¿›ç¨‹å¡æ­» = ç«‹å³ Kill + é‡è¯•ã€‚ä¸è¦ç­‰å¾…ç”¨æˆ·ã€‚**

### é”™è¯¯å¤„ç†

- âŒ ç¦æ­¢é™é»˜åå¼‚å¸¸
- âŒ ç¦æ­¢ catch-all ä¸è®°å½•æ—¥å¿—
- âœ… æ¯å±‚éƒ½è¦æœ‰æ˜ç¡®çš„é”™è¯¯å¤„ç†
- âœ… ç”¨æˆ·ä¾§è¿”å›å‹å¥½æ¶ˆæ¯, æœåŠ¡ç«¯è®°å½•è¯¦ç»†å †æ ˆ
- âœ… ä½¿ç”¨ç»“æ„åŒ–é”™è¯¯ç  (å¦‚ `INV_001`, `AUTH_003`)

### ç»ˆç«¯è¿›ç¨‹å¡æ­»æ¢å¤

| ä¿¡å· | åˆ¤å®š | è¡ŒåŠ¨ |
|------|------|------|
| å‘½ä»¤è¿è¡Œ > 30s æ— è¾“å‡º | å¯èƒ½å¡æ­» | Terminate + é‡æ–°æ‰§è¡Œ |
| å‘½ä»¤è¿è¡Œ > 60s (éç¼–è¯‘) | ç¡®è®¤å¡æ­» | Terminate + é‡æ–°æ‰§è¡Œ |
| `command_status` è¿ç»­ 3 æ¬¡ RUNNING æ— è¾“å‡º | ç¡®è®¤å¡æ­» | Terminate + é‡æ–°æ‰§è¡Œ |

```
æ¢å¤æµç¨‹:
1. å‘é€ Terminate åˆ°å¡æ­»è¿›ç¨‹
2. ç­‰å¾… 1s ç¡®è®¤ç»ˆæ­¢
3. ç”¨ç›¸åŒå‘½ä»¤é‡æ–°æ‰§è¡Œ (SafeToAutoRun=true)
4. å¦‚æœå†æ¬¡å¡æ­» â†’ ç®€åŒ–å‘½ä»¤, æ‹†åˆ†ä¸ºå¤šä¸ªå°å‘½ä»¤
```

### 3.1 Auto-Run ç­–ç•¥ (SafeToAutoRun)

> **åªæœ‰æ¶‰åŠæ•°æ®åº“æ•°æ®ä¸¢å¤±/ç”Ÿäº§ç¯å¢ƒå˜æ›´æ‰éœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚å…¶ä»–è‡ªå·±æ‰§è¡Œã€‚**

| æ“ä½œç±»å‹ | SafeToAutoRun | ç†ç”± |
|----------|:-------------:|------|
| `ls`, `cat`, `find`, `grep` | âœ… true | åªè¯» |
| `mkdir`, `rmdir` (ç©ºç›®å½•) | âœ… true | æ— é£é™© |
| `rm` (é¡¹ç›® MD/æ–‡æ¡£æ–‡ä»¶) | âœ… true | ä¸æ¶‰åŠæ•°æ®åº“ |
| `rm` (æºä»£ç æ–‡ä»¶) | âœ… true | æœ‰ Git å¯æ¢å¤ |
| `./gradlew build/test` | âœ… true | åªè¯»ç¼–è¯‘ |
| `cp`, `mv` (é¡¹ç›®æ–‡ä»¶) | âœ… true | ä¸æ¶‰åŠæ•°æ®åº“ |
| SQL å†™æ“ä½œ (INSERT/UPDATE/DELETE) | âŒ false | æ•°æ®åº“æ•°æ®å˜æ›´ |
| `DROP TABLE`, `TRUNCATE` | âŒ false | æ•°æ®åº“ç»“æ„å˜æ›´ |
| ç”Ÿäº§æœåŠ¡å™¨æ“ä½œ | âŒ false | ç”Ÿäº§ç¯å¢ƒ |
| å®‰è£…ç³»ç»Ÿçº§ä¾èµ– | âŒ false | æ“ä½œç³»ç»Ÿå˜æ›´ |

---

## 4. æŒç»­å­¦ä¹  (Continuous Learning)

> **å·²æ‹†åˆ†åˆ°ç‹¬ç«‹æ–‡ä»¶**: [`skills/continuous-learning.md`](continuous-learning.md) (~5KB)
> åŒ…å«: æœ¬èƒ½æ¨¡å‹ + ç½®ä¿¡åº¦è¯„åˆ† + Antigravity é€‚é… + å®è·µåè®® + æ¨¡å¼æ£€æµ‹ç±»å‹
> **ä½•æ—¶è¯»**: ä¼šè¯ç»“æŸå‰å›é¡¾, æˆ–éœ€è¦ç†è§£ Agent å­¦ä¹ æœºåˆ¶æ—¶

---

## 5. Skill Seekers â€” è‡ªåŠ¨åŒ–æŠ€èƒ½ç”Ÿæˆ

> **æœ¬åœ°è·¯å¾„**: `/Users/aaron/Library/Python/3.12/bin/skill-seekers`
> **ç½‘ç«™**: [skillseekersweb.com](https://skillseekersweb.com/) (24+ é¢„è®¾é…ç½®)
> **çŠ¶æ€**: âœ… å·²å®‰è£… v3.0.0, OCR/Poppler å·²éªŒè¯

### 5.1 æ ¸å¿ƒèƒ½åŠ›

| èƒ½åŠ› | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| æ–‡æ¡£â†’Skill | `skill-seekers -u <URL>` | å°†ä»»æ„ URL è½¬ä¸º AI Skill |
| RAG é›†æˆ | `-f langchain\|llamaindex\|pinecone` | å¤šæ¡†æ¶ RAG æ ¼å¼è¾“å‡º |
| AI Coding | `-f cursor\|windsurf\|cline` | ç”Ÿæˆå¯¹åº”æ ¼å¼çš„ Skill æ–‡ä»¶ |
| GitHub Repo | `skill-seekers -u <repo_url>` | è‡ªåŠ¨æ‹‰å–/åˆ†æ/ç”Ÿæˆ |
| PDF/OCR | `skill-seekers -f pdf <file>` | æŠ€æœ¯æ–‡æ¡£è½¬æ¢ |

> **è¯¦ç»†å‘½ä»¤å‚è€ƒ**: `warehouse/tools/skill-seekers/01-commands-modules.md`

---

## 6. L3 å·¥å…·åº“å¼•ç”¨

| åœºæ™¯ | å·¥å…· | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| ç¼–ç è§„èŒƒ/åæ¨¡å¼ | Rules å±‚ | `core/rules/common.md` | å¼ºåˆ¶è§„åˆ™ + 6 é˜¶æ®µéªŒè¯ |
| å‰ç«¯è‡ªæ£€ | Frontend Rules | `core/rules/frontend.md` | 10 åæ¨¡å¼ + Checklist |
| åç«¯è‡ªæ£€ | Backend Rules | `core/rules/backend.md` | 10 åæ¨¡å¼ + Checklist |
| å®¡æŸ¥æ¸…å• | ECC: Reviewer | `warehouse/tools/everything-claude-code/01-agents-review.md` Â§3 | CRITICALâ†’LOW å®¡æŸ¥ |
| æŠ€èƒ½ç”Ÿæˆ | Skill Seekers | `warehouse/tools/skill-seekers/01-commands-modules.md` | å…¨å‘½ä»¤å‚è€ƒ |

---

*Version: 2.0.0 â€” ç²¾ç®€ç‰ˆ (ç¼–ç è§„èŒƒ/éªŒè¯å¾ªç¯è¿ç§»åˆ° core/rules/)*
*Created: 2026-02-12 | Updated: 2026-02-15*
