---
name: requirements
description: éœ€æ±‚è·å–ä¸æ‰§è¡Œå‘å¯¼ï¼ˆ5é˜¶æ®µ Wizardï¼‰ã€‚Use when éœ€æ±‚ä¸å®Œæ•´æˆ–å­˜åœ¨æ­§ä¹‰ï¼Œéœ€è¦ç»“æ„åŒ–é‡‡é›†ã€ç¡®è®¤åå†æ‰§è¡Œã€‚
---

# éœ€æ±‚è·å–ä¸æ‰§è¡Œå‘å¯¼ (Requirements Wizard)

> **æ ¸å¿ƒåŸåˆ™: ä¸ç†è§£ = ä¸åŠ¨æ‰‹ã€‚çŒœæµ‹ = å¤±è´¥ã€‚**
> **æœ¬ Skill æ˜¯ PM çš„æ•°æ®é‡‡é›†å·¥å…·, åœ¨ `/main_build` Â§0 å¼ºåˆ¶è°ƒç”¨ã€‚**
> **PM è´Ÿè´£é¢†æ‚Ÿ+æ²Ÿé€š, Wizard è´Ÿè´£é‡‡é›†+æ–‡æ¡£åŒ–+éªŒè¯ã€‚äºŒè€…é…åˆ, ä¸äº’æ›¿ã€‚**

---

## Wizard å…¨æµç¨‹

```
ç”¨æˆ·æå‡ºéœ€æ±‚ (prompt)
       â”‚
       â–¼
â”Œâ”€â”€â”€ Phase 1: GATHER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨é‡‡é›†: ä»£ç  + KI + å®æ–½æ–¹æ¡ˆ + å†å²      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€ Phase 2: SPEC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å‡º spec æ–‡æ¡£: ç°çŠ¶/ç›®æ ‡/èŒƒå›´/æ­¥éª¤     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€ Phase 3: CONFIRM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·å®¡æ‰¹: ç¡®è®¤/ä¿®æ”¹/è¡¥å……                â”‚
â”‚  â“ ä¸ç¡®å®šçš„å¿…é¡»é—®, ç¦æ­¢çŒœæµ‹             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚  ç”¨æˆ·è¯´ "ç¡®è®¤" / "å¼€å§‹"
       â–¼
â”Œâ”€â”€â”€ Phase 4: HANDOFF TO CTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PM äº¤éœ€æ±‚æ–‡æ¡£ç»™ CTO â†’ CTO åˆ†é… â†’       â”‚
â”‚  å·¥ç¨‹å¸ˆæŒ‰ SOP æ‰§è¡Œ, æ¯æ­¥è®°å½•è¿›åº¦          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€ Phase 5: VERIFY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CTO æ•´åˆéªŒè¯ â†’ QA å®¡è®¡ â†’ PM æ£€æŸ¥       â”‚
â”‚  æ›´æ–° spec çŠ¶æ€ä¸º âœ…                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 1: GATHER (è‡ªåŠ¨é‡‡é›†)

Agent æ”¶åˆ°ç”¨æˆ· prompt å, å¿…é¡»å…ˆæ‰§è¡Œä»¥ä¸‹é‡‡é›†, ä¸å…è®¸è·³è¿‡:

### 1.0 ğŸ”´ æŠ€æœ¯æ ˆç¡®è®¤ (æœ€å…ˆæ‰§è¡Œ)

```
1. è¯» `.agent/.agent/projects/{project}/CONTEXT.md` Â§2 â€œå½“å‰é˜¶æ®µæŒ‡é’ˆâ€
2. ç¡®è®¤å½“å‰è¿è¡Œæ ˆ:
   - V3: Spring Boot + Kotlin + JPA â†’ å†™ Kotlin, ç”¨ Flyway Migration
3. åç»­æ‰€æœ‰åç«¯ä»£ç æŒ‰ V3 æ ˆå†™
4. ğŸ”´ V2 å·²å½»åº•å¼ƒç”¨: ç¦æ­¢å¼•ç”¨/ä¿®æ”¹/ä¾èµ–ä»»ä½• V2 NestJS ä»£ç 
```

### 1.1 é‡‡é›†æ¸…å•

| æœç´¢ç›®æ ‡ | å·¥å…· | ç›®çš„ |
|----------|------|------|
| **ç›¸å…³ä»£ç ** | `grep_search` + `find_by_name` | æ‰¾åˆ°ç°æœ‰å®ç° |
| **ç›¸å…³ Schema** | `grep_search` æœ `.prisma` / `.sql` | ç†è§£æ•°æ®ç»“æ„ |
| **ç›¸å…³ KI** | æ£€æŸ¥ KI summaries | æ˜¯å¦æœ‰å†å²å®ç°/å·²çŸ¥é™·é˜± |
| **ç›¸å…³å®æ–½æ–¹æ¡ˆ** | æ£€æŸ¥ `.agent/projects/{project}/playbooks/` | æ˜¯å¦æœ‰é¡¹ç›®çº§å®æ–½æ–¹æ¡ˆ |
| **ç›¸å…³è·¯çº¿å›¾** | æ£€æŸ¥ `.agent/projects/{project}/roadmap.md` | å½“å‰é˜¶æ®µæ˜¯å¦åŒ¹é… |
| **ç”¨æˆ·å†å²åé¦ˆ** | æ£€æŸ¥ `data/progress/user-feedback.md` | ç”¨æˆ·å¯¹ç±»ä¼¼åŠŸèƒ½æœ‰æ— åå¥½/ä¸æ»¡ |
| **å·²çŸ¥é£é™©** | æ£€æŸ¥ `data/progress/risk-register.md` | å½“å‰éœ€æ±‚æ˜¯å¦æ¶‰åŠå·²ç™»è®°é£é™© |
| **ç›¸å…³ i18n** | æœç´¢ç¿»è¯‘æ–‡ä»¶ | æ˜¯å¦æœ‰ç°æœ‰ç¿»è¯‘é”® |
| **ä¾èµ–åˆ†æ** | `view_file_outline` + import é“¾ | æ”¹åŠ¨ä¼šå½±å“è° |

### 1.2 é‡‡é›†è¾“å‡ºæ ¼å¼

```markdown
## ğŸ“‹ é‡‡é›†æŠ¥å‘Š

### æ‰¾åˆ°çš„ç›¸å…³æ–‡ä»¶
- `path/to/file.ts` â€” ç°æœ‰å®ç° (XX è¡Œ)
- `path/to/schema.prisma` â€” æ•°æ®æ¨¡å‹
- ...

### æ‰¾åˆ°çš„ KI
- KI: "xxx" â€” ç›¸å…³åº¦: é«˜/ä¸­/ä½

### æ‰¾åˆ°çš„å®æ–½æ–¹æ¡ˆ
- `playbooks/vma.md` Â§4 â€” ç›´æ¥ç›¸å…³

### ä¾èµ–é“¾
- æ”¹ A â†’ å½±å“ B, C
- æ”¹ Schema â†’ éœ€è¦è¿ç§»
```

---

## Phase 2: SPEC (è¾“å‡ºè§„æ ¼æ–‡æ¡£)

åŸºäºé‡‡é›†ç»“æœ, è‡ªåŠ¨ç”Ÿæˆ spec æ–‡æ¡£:

### 2.1 Spec æ¨¡æ¿

```markdown
# ğŸ“ Spec: {ä»»åŠ¡åç§°}

> ç”Ÿæˆæ—¶é—´: YYYY-MM-DD HH:MM
> æ¥æº prompt: "{ç”¨æˆ·åŸå§‹è¯·æ±‚}"

## 1. ç°çŠ¶ (As-Is)
- å½“å‰å®ç°æ˜¯ä»€ä¹ˆæ ·çš„
- å½“å‰æ•°æ®æ¨¡å‹
- å½“å‰è¡Œä¸º

## 2. ç›®æ ‡ (To-Be)
- æ”¹å®Œååº”è¯¥æ˜¯ä»€ä¹ˆæ ·
- ç›®æ ‡æ•°æ®æ¨¡å‹
- ç›®æ ‡è¡Œä¸º

## 3. å½±å“èŒƒå›´
| å±‚çº§ | å—å½±å“æ–‡ä»¶ | æ”¹åŠ¨ç±»å‹ |
|------|-----------|----------|
| Schema | `xxx.prisma` | ä¿®æ”¹ |
| Backend | `xxx.service.ts` | ä¿®æ”¹ |
| Frontend | `xxx/page.tsx` | æ–°å¢ |
| i18n | `vma/en.json` | æ–°å¢é”® |

## 4. æ‰§è¡Œæ­¥éª¤
- [ ] Step 1: ...
- [ ] Step 2: ...
- [ ] Step 3: ...

## 5. é£é™©ä¸é™·é˜±
| é£é™© | å½±å“ | ç¼“è§£ |
|------|------|------|
| ... | ... | ... |

## 6. â“ å¾…ç¡®è®¤é¡¹ (éœ€è¦ç”¨æˆ·å›ç­”)
1. â“ ...
2. â“ ...

## 7. æ‰§è¡Œè®°å½• (Phase 4 æ—¶å¡«å†™)
| æ­¥éª¤ | çŠ¶æ€ | æ—¶é—´ | å¤‡æ³¨ |
|------|------|------|------|
| Step 1 | â¬œ | â€” | â€” |
| Step 2 | â¬œ | â€” | â€” |
```

### 2.2 Spec å­˜å‚¨ä½ç½®

```
.agent/.agent/projects/{project}/data/specs/YYYY-MM-DD_{task-name}.md
```

> **å‘½åå’Œç”Ÿå‘½å‘¨æœŸè§„åˆ™: `core/skills/project-structure.md` Â§3.3 + Â§4**

### 2.3 é“å¾‹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| **ç¦æ­¢ç©ºå¾…ç¡®è®¤** | å¦‚æœä¸€åˆ‡éƒ½ 100% ç¡®å®š, ä»ç„¶å†™ "æ— å¾…ç¡®è®¤é¡¹" è¡¨ç¤ºå·²æ£€æŸ¥ |
| **ç¦æ­¢çŒœæµ‹** | ä»»ä½• â‰¤ 80% ç¡®å®šçš„å†…å®¹å¿…é¡»æ ‡ â“ æ¥é—®ç”¨æˆ· |
| **ç¦æ­¢è·³è¿‡** | å³ä½¿æ˜¯"ç®€å•"ä»»åŠ¡ä¹Ÿå¿…é¡»å‡º spec (å¯ä»¥ç²¾ç®€, ä¸èƒ½è·³è¿‡) |

---

## Phase 3: CONFIRM (ç”¨æˆ·ç¡®è®¤)

### 3.1 ç¡®è®¤äº¤äº’

Agent è¾“å‡º spec å, å¿…é¡»æ˜ç¡®é—®:

```
ä»¥ä¸Šæ˜¯æˆ‘å¯¹è¿™ä¸ªéœ€æ±‚çš„ç†è§£ã€‚

å¾…ç¡®è®¤é¡¹:
1. â“ ...
2. â“ ...

è¯·ç¡®è®¤:
- ç†è§£æ­£ç¡®? â†’ æˆ‘å¼€å§‹æ‰§è¡Œ
- éœ€è¦ä¿®æ”¹? â†’ å‘Šè¯‰æˆ‘å“ªé‡Œä¸å¯¹
- éœ€è¦è¡¥å……? â†’ å‘Šè¯‰æˆ‘é—æ¼äº†ä»€ä¹ˆ
```

### 3.2 ç¡®è®¤é“å¾‹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| **å¿…é¡»ç­‰ç”¨æˆ·å›å¤** | è¾“å‡º spec åç­‰å¾…, ä¸å…è®¸è‡ªè¡Œå¼€å§‹ |
| **ç”¨æˆ·è¯´"ç¡®è®¤"æ‰æ‰§è¡Œ** | ä»»ä½•å½¢å¼çš„ç¡®è®¤: "ç¡®è®¤" / "å¼€å§‹" / "OK" / "æ²¡é—®é¢˜" |
| **ç”¨æˆ·ä¿®æ”¹åé‡å‡º spec** | å¦‚æœç”¨æˆ·ä¿®æ”¹äº†éœ€æ±‚, æ›´æ–° spec å†æ¬¡ç¡®è®¤ |

---

## Phase 4: HANDOFF TO CTO â†’ EXECUTE

### 4.0 äº¤æ¥ (PM â†’ CTO)

PM å®Œæˆ CONFIRM å, å°† Spec æ–‡æ¡£äº¤ç»™ CTO:
```
PM äº¤ Spec â†’ CTO åˆ†æ â†’ CTO åˆ†è§£ â†’ CTO åˆ†é…ç»™å¯¹åº”å·¥ç¨‹å¸ˆ
å‚è€ƒ: core/skills/chief-engineer.md Â§3 åˆ†é…çŸ©é˜µ
```

### 4.1 æ‰§è¡Œçºªå¾‹ (å·¥ç¨‹å¸ˆéµå®ˆ)

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| **æŒ‰æ­¥éª¤æ‰§è¡Œ** | ä¸¥æ ¼æŒ‰ spec Â§4 çš„æ­¥éª¤é¡ºåº |
| **è®°å½•è¿›åº¦** | æ¯å®Œæˆä¸€æ­¥, æ›´æ–° spec Â§7 çš„çŠ¶æ€ (â¬œâ†’âœ…) |
| **é‡åˆ°æ„å¤–åœä¸‹** | å¦‚æœå®é™…ä¸ spec ä¸ç¬¦, åœä¸‹æ¥æŠ¥å‘Š CTO |
| **ä¸è¶…èŒƒå›´** | åªåš spec é‡Œå†™çš„, ä¸"é¡ºæ‰‹"æ”¹å…¶ä»–ä¸œè¥¿ |

### 4.2 è¿›åº¦è®°å½•

```markdown
## 7. æ‰§è¡Œè®°å½•
| æ­¥éª¤ | çŠ¶æ€ | æ—¶é—´ | å¤‡æ³¨ |
|------|------|------|------|
| Step 1: ä¿®æ”¹ Schema | âœ… | 12:15 | æ–°å¢ EmployeeDuty ä¸­é—´è¡¨ |
| Step 2: ä¿®æ”¹ Service | âœ… | 12:25 | æ”¯æŒå¤šå²—ä½ CRUD |
| Step 3: ä¿®æ”¹å‰ç«¯ | ğŸ”„ | â€” | è¿›è¡Œä¸­ |
| Step 4: æ›´æ–° i18n | â¬œ | â€” | â€” |
```

---

## Phase 5: VERIFY (ä¸‰çº§éªŒè¯)

### 5.1 CTO æ•´åˆéªŒè¯
å‚è€ƒ: `chief-engineer.md` Â§5 éªŒè¯æ¸…å•

### 5.2 QA å®¡è®¡
å‚è€ƒ: `qa-auditor.md` Â§2 å®¡è®¡æ¸…å•

### 5.3 æŠ€æœ¯éªŒè¯ (åŒæ—¶è¿›è¡Œ)

```
1. Build:    ç¼–è¯‘é€šè¿‡
2. Types:    ç±»å‹å®‰å…¨
3. Lint:     ä»£ç é£æ ¼
4. Tests:    æµ‹è¯•è¦†ç›–
5. Security: æ— å¯†é’¥æ³„æ¼
6. Diff:     æ— æ„å¤–å˜æ›´
```

### 5.2 Spec æ”¶å°¾

```markdown
## 8. éªŒè¯ç»“æœ
Build:     âœ… PASS
Types:     âœ… PASS
Tests:     âœ… 12/12 passed
Diff:      3 files changed

## 9. å®ŒæˆçŠ¶æ€
âœ… ä»»åŠ¡å®Œæˆ â€” YYYY-MM-DD HH:MM
```

---

## ç®€åŒ–æ¨¡å¼ (å°ä»»åŠ¡)

å¦‚æœä»»åŠ¡æ˜æ˜¾ç®€å• (ä¿®å¤ typo, æ”¹ä¸€è¡Œé…ç½®), å¯ä»¥ç”¨ç®€åŒ–ç‰ˆ:

```markdown
# ğŸ“ Quick Spec: {ä»»åŠ¡}
- ç°çŠ¶: ...
- ç›®æ ‡: ...
- å½±å“: 1 ä¸ªæ–‡ä»¶
- å¾…ç¡®è®¤: æ— 
- â†’ ç¡®è®¤åæ‰§è¡Œ
```

**åˆ¤æ–­æ ‡å‡†**: å½±å“ â‰¤ 3 ä¸ªæ–‡ä»¶ ä¸” æ— æ•°æ®æ¨¡å‹å˜æ›´ â†’ å¯ç”¨ç®€åŒ–ç‰ˆ

---

## ä¸å…¨å±€å·¥ä½œæµçš„å…³ç³»

> **æœ¬ Wizard å¯¹åº” `workflows/build.md` çš„ DRAFT â†’ SPEC â†’ CONFIRMED ä¸‰ä¸ªçŠ¶æ€ã€‚**
> **CONFIRMED åçš„æµç¨‹ (åˆ†é…â†’æ‰§è¡Œâ†’éªŒè¯) åœ¨ build.md Â§2-Â§7 å®šä¹‰ã€‚**

---

## L3 å·¥å…·åº“å¼•ç”¨ (æŒ‰éœ€åŠ è½½)

| åœºæ™¯ | æ¨èåŠ è½½ | æ–‡ä»¶è·¯å¾„ | ä½œç”¨ |
|------|---------|---------|------|
| ä»£ç é‡‡é›†ç­–ç•¥ | ECC: System Prompter | `warehouse/tools/everything-claude-code/01-agents-review.md` Â§1 | ä»£ç ç†è§£å’Œä¾èµ–åˆ†ææ¨¡å¼ |
| UX éœ€æ±‚è¯„ä¼° | UI UX Pro: å‡†åˆ™ | `warehouse/tools/ui-ux-pro-max/03-ux-rules-checklist.md` | è¯„ä¼° UI éœ€æ±‚åˆç†æ€§ |

---

*Version: 1.1.0 â€” Added å·¥ä½œæµå¼•ç”¨ + L3 å·¥å…·*
*Updated: 2026-02-12*
