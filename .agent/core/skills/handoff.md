---
name: handoff
description: ä¼šè¯äº¤æ¥åè®® â€” é•¿ä»»åŠ¡è·¨ä¼šè¯æ¥åŠ›, æ£€æŸ¥ç‚¹ä¿å­˜/æ¢å¤, ä¸Šä¸‹æ–‡å‹ç¼©ä¼ é€’ã€‚
---

# ä¼šè¯äº¤æ¥åè®® (Session Handoff Protocol)

> **é—®é¢˜: ä¸Šä¸‹æ–‡çª—å£æœ‰é™, é•¿ä»»åŠ¡æ— æ³•åœ¨ä¸€ä¸ªä¼šè¯å®Œæˆã€‚**
> **æ–¹æ¡ˆ: æ ‡å‡†åŒ–çš„æ£€æŸ¥ç‚¹æœºåˆ¶, è®©æ–°ä¼šè¯èƒ½ç²¾ç¡®æ¢å¤ä¸Šä¸€æ¬¡çš„è¿›åº¦ã€‚**

---

## 1. ä½•æ—¶è§¦å‘äº¤æ¥

| ä¿¡å· | è¡ŒåŠ¨ |
|------|------|
| ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ > 70% | ğŸŸ  å‡†å¤‡æ£€æŸ¥ç‚¹ |
| ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡ > 85% | ğŸ”´ ç«‹å³ä¿å­˜, ç»“æŸä¼šè¯ |
| ä»»åŠ¡é¢„è®¡æ­¥éª¤ > 10 | ğŸŸ¡ æå‰è§„åˆ’åˆ‡åˆ†ç‚¹ |
| Agent å¼€å§‹é‡å¤/é—å¿˜ | ğŸ”´ ç«‹å³ä¿å­˜, ç»“æŸä¼šè¯ |
| ç”¨æˆ·è¯´ "å…ˆåˆ°è¿™é‡Œ" | ä¿å­˜æ£€æŸ¥ç‚¹ |

---

## 2. æ£€æŸ¥ç‚¹æ ¼å¼

```markdown
# ğŸ”– Checkpoint: {ä»»åŠ¡åç§°}

> ä¿å­˜æ—¶é—´: YYYY-MM-DD HH:MM
> ä¼šè¯ ID: {conversation-id}
> Spec æ–‡ä»¶: projects/{project}/data/specs/{spec-file}.md

## å·²å®Œæˆ âœ…
1. âœ… Step 1: {æè¿°} â€” {å…³é”®è¾“å‡º}
2. âœ… Step 2: {æè¿°} â€” {å…³é”®è¾“å‡º}

## è¿›è¡Œä¸­ ğŸ”„
3. ğŸ”„ Step 3: {æè¿°}
   - å·²åš: {åšäº†ä»€ä¹ˆ}
   - æœªåš: {è¿˜å·®ä»€ä¹ˆ}
   - å…³é”®æ–‡ä»¶: `path/to/file.ts` (ç¬¬ XX è¡Œ)

## å¾…åš â¬œ
4. â¬œ Step 4: {æè¿°}
5. â¬œ Step 5: {æè¿°}

## å…³é”®ä¸Šä¸‹æ–‡ (æ–°ä¼šè¯å¿…è¯»)
- å½“å‰åœ¨ Phase {X} â€” å‚è€ƒ `projects/{project}/roadmap.md`
- æ­£åœ¨ä½¿ç”¨èœè°±: `recipes/{name}.md`
- æ•°æ®æ¨¡å‹å˜æ›´: {æ˜¯/å¦, å¦‚æ˜¯è¯´æ˜}
- å·²çŸ¥é™·é˜±: {é‡åˆ°çš„é—®é¢˜ + è§£æ³•}

## ç›¸å…³æ–‡ä»¶ (æ–°ä¼šè¯åº”å…ˆè¯»)
- `path/to/modified-file-1.ts`
- `path/to/modified-file-2.prisma`
- `projects/{project}/data/specs/{spec-file}.md`
```

---

## 3. å­˜å‚¨ä½ç½®

```
projects/{project}/data/checkpoints/YYYY-MM-DD_{task-name}.md
```

---

## 4. æ¢å¤æµç¨‹

æ–°ä¼šè¯å¼€å§‹æ—¶, å¦‚æœç”¨æˆ·è¯´ "ç»§ç»­ä¸Šæ¬¡" æˆ–å¼•ç”¨ä¹‹å‰çš„ä»»åŠ¡:

```
1. è¯» projects/{project}/data/checkpoints/ æœ€æ–°çš„æ£€æŸ¥ç‚¹æ–‡ä»¶
2. è¯»æ£€æŸ¥ç‚¹ä¸­åˆ—å‡ºçš„ç›¸å…³æ–‡ä»¶
3. è¯»å¯¹åº”çš„ Spec æ–‡ä»¶ (projects/{project}/data/specs/)
4. å‘ç”¨æˆ·ç¡®è®¤: "ä¸Šæ¬¡åšåˆ° Step 3, æˆ‘ä»è¿™é‡Œç»§ç»­?"
5. æ¢å¤æ‰§è¡Œ
```

### æ¢å¤é“å¾‹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| **ä¸è¦å‡è®¾** | è¯»å®Œæ£€æŸ¥ç‚¹å, å…ˆç¡®è®¤å†ç»§ç»­ |
| **éªŒè¯ç°çŠ¶** | ä»£ç å¯èƒ½è¢«ç”¨æˆ·æ‰‹åŠ¨æ”¹è¿‡, å…ˆæ£€æŸ¥ git status |
| **é‡è¯» Spec** | Spec æ˜¯çœŸç›¸æº, ä¸ä¾èµ–ä¸Šä¸‹æ–‡è®°å¿† |

---

## 5. ä¸»åŠ¨åˆ‡åˆ† (é•¿ä»»åŠ¡è§„åˆ’)

å¯¹äºé¢„ä¼° > 10 æ­¥çš„ä»»åŠ¡, åœ¨ Wizard Phase 2 (Spec) æ—¶ä¸»åŠ¨è§„åˆ’åˆ‡åˆ†ç‚¹:

```markdown
## 4. æ‰§è¡Œæ­¥éª¤ (å«åˆ‡åˆ†ç‚¹)

### Session 1: æ•°æ®å±‚
- [ ] Step 1: Schema ä¿®æ”¹
- [ ] Step 2: Migration åˆ›å»º
- [ ] Step 3: Repository å±‚
ğŸ“Œ åˆ‡åˆ†ç‚¹ A â€” ä¿å­˜æ£€æŸ¥ç‚¹

### Session 2: ä¸šåŠ¡å±‚
- [ ] Step 4: Service å±‚
- [ ] Step 5: Controller å±‚
- [ ] Step 6: DTO + éªŒè¯
ğŸ“Œ åˆ‡åˆ†ç‚¹ B â€” ä¿å­˜æ£€æŸ¥ç‚¹

### Session 3: å‰ç«¯
- [ ] Step 7: é¡µé¢ UI
- [ ] Step 8: API è°ƒç”¨
- [ ] Step 9: i18n
- [ ] Step 10: éªŒè¯
```

---

## 6. ç´§æ€¥äº¤æ¥ (ä¸Šä¸‹æ–‡çˆ†æ»¡)

å¦‚æœä¸Šä¸‹æ–‡çªç„¶æ¥è¿‘æé™, ç”¨æœ€çŸ­æ ¼å¼:

```markdown
# ğŸš¨ Emergency Checkpoint
ä»»åŠ¡: {ä¸€å¥è¯}
åšåˆ°: Step {N}
ä¸‹ä¸€æ­¥: {ä¸€å¥è¯}
å…³é”®æ–‡ä»¶: `path/to/file`
Spec: `projects/{project}/data/specs/{file}.md`
```

---

*Version: 1.0.0 â€” Generic Core*
