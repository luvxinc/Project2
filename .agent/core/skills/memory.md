---
name: memory
description: è®°å¿†ç®¡ç† SOPã€‚Use when éœ€è¦ä»»åŠ¡è¿½è¸ªã€éªŒæ”¶ä¿æŠ¤ã€é”™é¢˜æœ¬æ²‰æ·€ã€ä¸Šä¸‹æ–‡çº¦æŸä¸ä¼šè¯æ”¶æ•›ã€‚
---

# è®°å¿†ç®¡ç† (Memory Management)

> **âš ï¸ æ ¹æ®ä¸‹æ–¹è·¯ç”±è¡¨è·³åˆ°éœ€è¦çš„ section, ä¸è¦å…¨éƒ¨é˜…è¯»ã€‚**

## è·¯ç”±è¡¨

| å…³é”®è¯ | è·³è½¬ |
|--------|------|
| `è¿›åº¦`, `tracker`, `è¿½è¸ª`, `è·Ÿéš` | â†’ Â§1 ä»»åŠ¡è¿½è¸ªå™¨ |
| `éªŒæ”¶`, `ä¿æŠ¤`, `gitignore`, `æ¸…ç†` | â†’ Â§2 éªŒæ”¶ååè®® |
| `é”™é¢˜`, `é”™è¯¯`, `å¤çŠ¯`, `äº¤å‰æ£€æŸ¥` | â†’ Â§3 é”™é¢˜æœ¬ |
| `é¡¹ç›®è®°å¿†`, `å¤ç”¨`, `é£æ ¼`, `å£å¾„`, `å­—æ®µ`, `è§„èŒƒ` | â†’ Â§3.6 é¡¹ç›®å¤ç”¨è®°å¿† |
| `ç”¨æˆ·æç¤º`, `çº æ­£`, `ç†è§£é”™è¯¯`, `æµç¨‹é—®é¢˜` | â†’ Â§3.5 ç”¨æˆ·æç¤ºå¼ºåˆ¶è®°å½• |
| `è§„åˆ’`, `plan`, `å¤§ä»»åŠ¡`, `3ä¸ªæ–‡ä»¶` | â†’ Â§4 å¤§ä»»åŠ¡è§„åˆ’ |
| `ä¸Šä¸‹æ–‡`, `token`, `çº¦æŸ`, `é‡Šæ”¾` | â†’ Â§5 ä¸Šä¸‹æ–‡æ™ºèƒ½çº¦æŸ |

---

## Â§1 ä»»åŠ¡è¿½è¸ªå™¨ (Task Tracker)

> **æ¯ä¸ªä»»åŠ¡ä» DRAFT åˆ° CLOSED éƒ½æœ‰ä¸€ä¸ªè¿½è¸ªæ–‡ä»¶è·Ÿéš, éªŒæ”¶ååˆ é™¤ã€‚**

### 1.1 è¿½è¸ªå™¨ç”Ÿå‘½å‘¨æœŸ

```
PM åˆ›å»º Spec
    â†“ åŒæ—¶åˆ›å»ºè¿½è¸ªå™¨
.agent/projects/{project}/data/progress/TRACKER-{task-id}.md
    (å‘½åè§„åˆ™: project-structure.md Â§3.5.1 + Â§4.3)
    â†“ å…¨æµç¨‹æ›´æ–°
    â†“ æ¯ä¸ªçŠ¶æ€å˜æ›´éƒ½å†™å…¥
    â†“
ç”¨æˆ·éªŒæ”¶ âœ…
    â†“ æ‰§è¡ŒéªŒæ”¶ååè®® (Â§2)
    â†“ åˆ é™¤è¿½è¸ªå™¨
    â†“ Spec æ ‡è®° CLOSED
å®Œæˆ
```

### 1.2 è¿½è¸ªå™¨æ ¼å¼

```markdown
# ğŸ“ TRACKER: {task-id} â€” {task-name}

> åˆ›å»º: YYYY-MM-DD HH:MM
> Spec: .agent/projects/{project}/data/specs/{spec-file}.md
> çŠ¶æ€: {DRAFT â†’ SPEC â†’ CONFIRMED â†’ ASSIGNED â†’ IN_PROGRESS â†’ ...}

## å½“å‰çŠ¶æ€
- **é˜¶æ®µ**: {çŠ¶æ€å}
- **è´Ÿè´£äºº**: {è§’è‰²}
- **å¼€å§‹æ—¶é—´**: HH:MM

## è¿›åº¦æ—¥å¿— (æœ€æ–°åœ¨é¡¶éƒ¨)

### [HH:MM] {çŠ¶æ€å} â€” {æ“ä½œ}
- åšäº†ä»€ä¹ˆ: {ä¸€å¥è¯}
- å˜æ›´æ–‡ä»¶: `path/to/file`
- ä¸‹ä¸€æ­¥: {ä¸€å¥è¯}

### [HH:MM] ASSIGNED â€” CTO åˆ†é…å·¥å•
- å·¥å•: #1 â†’ åç«¯æ¶æ„å¸ˆ (backend.md Â§3)
- å·¥å•: #2 â†’ å‰ç«¯æ¶æ„å¸ˆ (frontend.md Â§3)
- åŸŸ: æœåŠ¡å·¥ç¨‹ + äº§å“å·¥ç¨‹

### [HH:MM] CONFIRMED â€” PM ç¡®è®¤éœ€æ±‚
- Spec å·²ç”Ÿæˆ: specs/{file}.md
- ç”¨æˆ·ç¡®è®¤åŸè¯: "..."

## å…³é”®å†³ç­–
| æ—¶é—´ | å†³ç­– | ç†ç”± |
|------|------|------|

## å·²çŸ¥é£é™©
| é£é™© | ç¼“è§£ |
|------|------|

## é”™è¯¯/è¿”å·¥è®°å½•
| æ—¶é—´ | é”™è¯¯ | ä¿®å¤ | é”™é¢˜æœ¬ ID |
|------|------|------|----------|
```

### 1.3 æ›´æ–°è§„åˆ™

| æ—¶æœº | è°å†™ | å†™ä»€ä¹ˆ |
|------|------|--------|
| Spec åˆ›å»ºæ—¶ | PM | åˆå§‹åŒ–è¿½è¸ªå™¨ |
| ä»»åŠ¡åˆ†é…å | CTO | å·¥å•åˆ†é…åˆ—è¡¨ |
| æ¯å®Œæˆä¸€ä¸ªå·¥å• | å·¥ç¨‹å¸ˆ | è¿›åº¦æ—¥å¿— + å˜æ›´æ–‡ä»¶ |
| æ¯æ¬¡çŠ¶æ€è½¬æ¢ | å½“å‰è´Ÿè´£äºº | æ›´æ–°"å½“å‰çŠ¶æ€" |
| å‘ç”Ÿè¿”å·¥ | CTO | è®°å½•é”™è¯¯ + å¼•ç”¨é”™é¢˜æœ¬ |
| ç”¨æˆ·éªŒæ”¶ | PM | æ‰§è¡ŒéªŒæ”¶ååè®® (Â§2) |

### 1.4 è¿½è¸ªå™¨ vs æ£€æŸ¥ç‚¹

| è¿½è¸ªå™¨ (TRACKER) | æ£€æŸ¥ç‚¹ (Checkpoint) |
|------------------|---------------------|
| è´¯ç©¿ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸ | ä»…åœ¨è·¨ä¼šè¯æ—¶ä½¿ç”¨ |
| éªŒæ”¶ååˆ é™¤ | æ¢å¤åå¯åˆ é™¤ |
| è®°å½•è¿›åº¦ + å†³ç­– + é”™è¯¯ | åªè®°å½•æ¢å¤æ‰€éœ€çš„æœ€å°ä¿¡æ¯ |
| æ¯ä¸ªä»»åŠ¡ä¸€ä¸ª | æ¯æ¬¡ä¼šè¯ä¸­æ–­ä¸€ä¸ª |

---

## Â§2 éªŒæ”¶ååè®®

> **ç”¨æˆ·è¯´"ç¡®è®¤"/"é€šè¿‡"/"éªŒæ”¶" â†’ è§¦å‘æ­¤åè®®ã€‚**

### 2.1 éªŒæ”¶è§¦å‘è¯

```
"ç¡®è®¤", "é€šè¿‡", "éªŒæ”¶", "OK", "å¯ä»¥", "æ²¡é—®é¢˜", "approved",
"ä¸Šçº¿", "å‘å¸ƒ", "done", "å¥½äº†", "å°±è¿™æ ·"
```

### 2.2 éªŒæ”¶å 5 æ­¥åè®®

```
ç”¨æˆ·éªŒæ”¶ âœ…
    â†“
Step 1: Spec æ–‡ä»¶æ ‡è®° CLOSED
    åœ¨ Spec Â§9 å†™å…¥: çŠ¶æ€=CLOSED, æ—¶é—´, ç”¨æˆ·ç¡®è®¤åŸè¯
    â†“
Step 2: éªŒæ”¶å†…å®¹ä¿æŠ¤
    å°†å·²éªŒæ”¶çš„å…³é”®äº§å‡ºæ–‡ä»¶è·¯å¾„è¿½åŠ åˆ°
    .agent/projects/{project}/data/progress/ACCEPTED.md
    â†“
Step 3: åˆ é™¤è¿½è¸ªå™¨
    rm .agent/projects/{project}/data/progress/TRACKER-{task-id}.md
    â†“
Step 4: åˆ é™¤ç›¸å…³æ£€æŸ¥ç‚¹
    rm .agent/projects/{project}/data/checkpoints/{ç›¸å…³æ£€æŸ¥ç‚¹}.md
    â†“
Step 5: å®¡è®¡æŠ¥å‘Šå¤„ç†
    å®¡è®¡æŠ¥å‘Šä¸­æ‰€æœ‰é—®é¢˜å·²ä¿®å¤?
      â†’ æ˜¯: åˆ é™¤ .agent/projects/{project}/data/audits/{å®¡è®¡æŠ¥å‘Š}.md
      â†’ å¦: ä¿ç•™ç›´åˆ°æ‰€æœ‰é¡¹å…³é—­
    (è§„åˆ™è¯¦è§ project-structure.md Â§3.7)
```

### 2.3 ACCEPTED.md æ ¼å¼

```markdown
# âœ… å·²éªŒæ”¶äº§å‡ºæ¸…å•

> **æ­¤æ–‡ä»¶åˆ—å‡ºç”¨æˆ·å·²éªŒæ”¶çš„äº§å‡ºã€‚Agent ç¦æ­¢ä¿®æ”¹å·²éªŒæ”¶å†…å®¹, é™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ã€‚**

## è§„åˆ™
- åˆ—è¡¨ä¸­çš„æ–‡ä»¶/åŠŸèƒ½å·²ç»è¿‡ç”¨æˆ·éªŒæ”¶
- ä¿®æ”¹å·²éªŒæ”¶æ–‡ä»¶å‰, å¿…é¡»å‘ŠçŸ¥ç”¨æˆ·å¹¶è·å¾—è®¸å¯
- æ–°ä»»åŠ¡å¦‚æœæ¶‰åŠå·²éªŒæ”¶æ–‡ä»¶, PM éœ€è¦æ ‡æ³¨é£é™©

## å·²éªŒæ”¶æ¸…å•

| æ—¥æœŸ | ä»»åŠ¡ | äº§å‡ºæ–‡ä»¶ | éªŒæ”¶åŸè¯æ¦‚è¦ |
|------|------|---------|------------|
| 2026-02-12 | VMA å‘˜å·¥é¡µé¢ | `apps/web/src/app/vma/employees/` | "å¯ä»¥, æ²¡é—®é¢˜" |
| 2026-02-12 | ç”¨æˆ·æƒé™ç³»ç»Ÿ | `apps/api/src/modules/users/` | "é€šè¿‡" |
```

### 2.4 ä¿æŠ¤æœºåˆ¶

```
Agent ä¿®æ”¹æ–‡ä»¶å‰çš„æ£€æŸ¥:
  1. è¯» ACCEPTED.md
  2. æ£€æŸ¥å½“å‰è¦ä¿®æ”¹çš„æ–‡ä»¶æ˜¯å¦åœ¨å·²éªŒæ”¶æ¸…å•ä¸­
  3. å¦‚æœæ˜¯:
     â†’ å‘ŠçŸ¥ PM: "è¯¥æ–‡ä»¶å·²è¢«ç”¨æˆ·éªŒæ”¶, éœ€è¦é‡æ–°ç¡®è®¤"
     â†’ PM å‘ç”¨æˆ·ç¡®è®¤: "ä¹‹å‰éªŒæ”¶çš„ X éœ€è¦ä¿®æ”¹, å› ä¸º Y, å¯ä»¥å—?"
     â†’ ç”¨æˆ·åŒæ„åæ‰å¯ä¿®æ”¹
  4. å¦‚æœä¸æ˜¯:
     â†’ æ­£å¸¸æ‰§è¡Œ
```

---

## Â§3 é”™é¢˜æœ¬ (Error Book)

> **æ¯ä¸ªé”™è¯¯éƒ½æ˜¯ä¸€æ¬¡å­¦ä¹ ã€‚åŒæ ·çš„é”™è¯¯ä¸å…è®¸çŠ¯ç¬¬äºŒæ¬¡ã€‚**
## Â§3A åŒè´¦æœ¬åŸåˆ™ï¼ˆé”™è¯¯ vs éœ€æ±‚ï¼‰

- `ERROR-BOOK`ï¼šåªè®°å½•é”™è¯¯ã€é˜²å¤çŠ¯ã€äº¤å‰æ£€æŸ¥ç»“æœã€‚
- `PROJECT-MEMORY`ï¼šåªè®°å½•å¯å¤ç”¨éœ€æ±‚ï¼ˆUIUX é£æ ¼ã€æ•°æ®å£å¾„ã€é•¿æœŸè§„åˆ™ï¼‰ã€‚
- ä¸¤ç±»å†…å®¹ç¦æ­¢æ··å†™ï¼›å†²çªæ—¶ä¼˜å…ˆå›åˆ°ç”¨æˆ·ç¡®è®¤ã€‚


### 3.1 é”™é¢˜æœ¬ä½ç½®

```
.agent/projects/{project}/data/errors/ERROR-BOOK.md
```

### 3.2 é”™é¢˜æœ¬æ ¼å¼

```markdown
# ğŸ“• é”™é¢˜æœ¬

> **æ¯æ¬¡å¼€å§‹æ–°ä»»åŠ¡å‰, æ‰«ææ­¤æ–‡ä»¶çš„è§¦å‘å…³é”®è¯ã€‚**
> **å¦‚æœå½“å‰ä»»åŠ¡çš„å…³é”®è¯å‘½ä¸­, å¿…é¡»è¯»å¯¹åº”æ¡ç›®å¹¶éµå®ˆã€‚**

## å…³é”®è¯ç´¢å¼• (å¿«é€ŸæŸ¥æ‰¾)

| å…³é”®è¯ | æ¡ç›® | ä¸¥é‡åº¦ |
|--------|------|--------|
| `Prisma`, `çƒ­åŠ è½½` | ERR-001 | ğŸ”´ |
| `mix-blend-mode`, `logo` | ERR-002 | ğŸŸ¡ |
| `Entity`, `DTO`, `ç›´æ¥è¿”å›` | ERR-003 | ğŸ”´ |
| `æƒé™`, `SecurityCode` | ERR-004 | ğŸ”´ |

---

## ERR-001: Prisma çƒ­åŠ è½½éœ€è¦é‡å¯

- **è§¦å‘å…³é”®è¯**: `Prisma`, `çƒ­åŠ è½½`, `Schema ä¿®æ”¹`
- **é”™è¯¯æè¿°**: ä¿®æ”¹ Prisma Schema åæœªé‡å¯ dev server, å¯¼è‡´ç±»å‹ä¸åŒ¹é…
- **æ­£ç¡®åšæ³•**: Schema ä¿®æ”¹åå¿…é¡» `npx prisma generate && é‡å¯ dev`
- **é¦–æ¬¡å‘ç”Ÿ**: 2026-01-15
- **å‘ç”Ÿæ¬¡æ•°**: 3
- **å½±å“èŒƒå›´**: æ‰€æœ‰æ¶‰åŠ Prisma çš„ä»»åŠ¡

### äº¤å‰æ£€æŸ¥ âš ï¸
> ç±»ä¼¼é—®é¢˜æ˜¯å¦å­˜åœ¨äºå…¶ä»–åœ°æ–¹?
> - Flyway è¿ç§»åä¹Ÿéœ€è¦é‡å¯åç«¯ â†’ å·²ç¡®è®¤
> - Redis Schema å˜æ›´åç¼“å­˜éœ€è¦æ¸…é™¤ â†’ å·²æ·»åŠ  ERR-005
```

### 3.3 å†™å…¥è§„åˆ™

| æ—¶æœº | è°å†™ | æ¥æº |
|------|------|------|
| QA å®¡è®¡é©³å›æ—¶ | QA | å®¡è®¡æŠ¥å‘Šä¸­çš„é”™è¯¯ |
| CTO Review é©³å›æ—¶ | CTO | éªŒè¯å‘ç°çš„é—®é¢˜ |
| ç”¨æˆ·åé¦ˆ Bug æ—¶ | PM | ç”¨æˆ·æŠ¥å‘Š |
| å·¥ç¨‹å¸ˆè‡ªæµ‹å‘ç°æ—¶ | å·¥ç¨‹å¸ˆ | è‡ªè¡Œè®°å½• |
| ğŸ”´ **ç”¨æˆ·çº æ­£/æç¤ºæ—¶** | **PM** | **ç”¨æˆ·åŸè¯ (è¯¦è§ Â§3.5)** |

### 3.5 ç”¨æˆ·æç¤ºå¼ºåˆ¶è®°å½•åè®® (ğŸ”´ é“å¾‹)

> **ç”¨æˆ·è¯´çš„æ¯ä¸€å¥çº æ­£, éƒ½æ˜¯ä»çœŸé‡‘ç™½é“¶çš„ç»éªŒä¸­æ¥çš„ã€‚æµªè´¹ = å¤±è´¥ã€‚**

```
ç”¨æˆ·æç¤º/çº æ­£å‘ç”Ÿæ—¶, ç«‹å³åˆ¤å®šç±»å‹:

  ç±»å‹ A â€” Bug/ä»£ç é”™è¯¯:
    ç”¨æˆ·æŒ‡å‡ºä»£ç æœ‰ Bug æˆ–å®ç°é”™è¯¯
    â†’ é”™é¢˜æœ¬è¿½åŠ æ¡ç›® (ERR-NNN æ ¼å¼)
    â†’ å…³é”®è¯ç´¢å¼•æ›´æ–°
    â†’ å…³è” Spec å’Œå˜æ›´æ–‡ä»¶
    â†’ ç«‹å³ä¿®å¤

  ç±»å‹ B â€” ç†è§£é”™è¯¯ (éœ€æ±‚è¯¯è§£):
    ç”¨æˆ·æŒ‡å‡º Agent ç†è§£é”™äº†éœ€æ±‚
    â†’ é”™é¢˜æœ¬è¿½åŠ æ¡ç›®, åˆ†ç±»æ ‡ "ç†è§£é”™è¯¯"
    â†’ å…³é”®è¯: "éœ€æ±‚è¯¯è§£", "{æ¨¡å—å}", "{åŠŸèƒ½å}"
    â†’ è®°å½•: ç”¨æˆ·åŸè¯ vs Agent çš„é”™è¯¯ç†è§£ vs æ­£ç¡®ç†è§£
    â†’ Spec æ›´æ–°ä¸ºæ­£ç¡®ç‰ˆæœ¬

  ç±»å‹ C â€” æµç¨‹æ€§é—®é¢˜ (Agent å·¥ä½œæ–¹å¼):
    ç”¨æˆ·æŒ‡å‡º Agent çš„å·¥ä½œæµç¨‹/SOP æœ‰é—®é¢˜
    â†’ å†™å…¥ data/training/ (YYYY-MM-DD_{topic}.md)
    â†’ å…³é”®è¯: "æµç¨‹", "SOP", "{å…·ä½“ç¯èŠ‚}"
    â†’ å¦‚æœæ˜¯é€šç”¨æ”¹è¿›: åŒæ—¶æ›´æ–°å¯¹åº” SOP æ–‡ä»¶
    â†’ å¦‚æœæ˜¯é¡¹ç›®ç‰¹å®š: åªå†™ training/

  ç±»å‹ D â€” é¡¹ç›®çº§è§„èŒƒæç¤º:
    ç”¨æˆ·æŒ‡å‡ºé¡¹ç›®åº”éµå¾ªçš„è§„èŒƒ/è§„åˆ™
    â†’ é”™é¢˜æœ¬è¿½åŠ  (å¦‚æœæ˜¯é”™è¯¯çº æ­£)
    â†’ åŒæ—¶æ›´æ–° CONTEXT.md æˆ–å¯¹åº”è§„èŒƒæ–‡ä»¶
    â†’ ç¡®ä¿è§„åˆ™è¢«æŒä¹…åŒ–, ä¸æ­¢æ˜¯å£å¤´ç†è§£
```

**åˆ¤å®šæ¡ä»¶:**
| ç”¨æˆ·è¡Œä¸º | åˆ¤å®šç±»å‹ | å¿…é¡»åš |
|---------|---------|--------|
| "è¿™é‡Œæœ‰ bug" / "è¿™ä¸ªå†™é”™äº†" | **A** Bug | é”™é¢˜æœ¬ + ä¿®å¤ |
| "ä¸æ˜¯è¿™ä¸ªæ„æ€" / "æˆ‘è¯´çš„æ˜¯..." | **B** ç†è§£é”™è¯¯ | é”™é¢˜æœ¬ + Spec æ›´æ–° |
| "ä½ åº”è¯¥å…ˆåšXå†åšY" / "æµç¨‹ä¸å¯¹" | **C** æµç¨‹ | training/ + SOP æ›´æ–° |
| "ä»¥åéƒ½è¦è¿™æ ·åš" / "è®°ä½è¿™ä¸ªè§„åˆ™" | **D** è§„èŒƒ | é”™é¢˜æœ¬ + è§„èŒƒæ–‡ä»¶æ›´æ–° |

**ğŸ”´ æ ¸å¿ƒé“å¾‹: ç”¨æˆ·æç¤ºå, Agent å¿…é¡»åœ¨ä¸‹æ¬¡å“åº”ä¸­ç¡®è®¤å·²è®°å½•åˆ°å“ªä¸ªæ–‡ä»¶ã€‚**

### 3.4 ä½¿ç”¨è§„åˆ™ (å¼ºåˆ¶)

```
æ¯æ¬¡ä»»åŠ¡å¼€å§‹æ—¶ (ASSIGNED çŠ¶æ€å):
  1. è¯»é”™é¢˜æœ¬å…³é”®è¯ç´¢å¼•
  2. åŒ¹é…å½“å‰ä»»åŠ¡çš„å…³é”®è¯
  3. å¦‚æœå‘½ä¸­: å¿…é¡»è¯»å¯¹åº”æ¡ç›® + éµå®ˆ
  4. å¦‚æœæœªå‘½ä¸­: ç»§ç»­
  5. ğŸ”´ æ£€æŸ¥ data/training/ æ˜¯å¦æœ‰ç›¸å…³ç»éªŒæ•™è®­ (ls + å…³é”®è¯åŒ¹é…æ–‡ä»¶å)

æ¯æ¬¡é”™è¯¯ä¿®å¤å:
  1. å†™å…¥é”™é¢˜æœ¬
  2. å…³é”®è¯ç´¢å¼•æ›´æ–°
  3. âš ï¸ æ‰§è¡Œäº¤å‰æ£€æŸ¥:
     - åŒä¸€æ¨¡å¼æ˜¯å¦å­˜åœ¨äºå…¶ä»–æ–‡ä»¶?
     - ç”¨ grep æœç´¢åŒç±»ä»£ç 
     - å¦‚æœå‘ç° â†’ ä¸€å¹¶ä¿®å¤ + è®°å½•
```

### 3.5 äº¤å‰æ£€æŸ¥åè®®

```
å‘ç°é”™è¯¯ E åœ¨æ–‡ä»¶ A ä¸­
    â†“
Step 1: æŠ½è±¡é”™è¯¯æ¨¡å¼
    "æ–‡ä»¶ A ä¸­ X å‡½æ•°åšäº† Y, å¯¼è‡´ Z"
    â†’ æŠ½è±¡ä¸º: "åœ¨ {ç±»å‹} ä¸­åšäº† {æ“ä½œ} å¯¼è‡´ {åæœ}"
    â†“
Step 2: æœç´¢åŒç±»
    grep_search / find_by_name æœç´¢åŒç±»ä»£ç 
    â†“
Step 3: é€ä¸€æ£€æŸ¥
    å¯¹æ¯ä¸ªåŒ¹é…: æ˜¯å¦æœ‰åŒæ ·é—®é¢˜?
    â†“
Step 4: æ‰¹é‡ä¿®å¤
    ä¸€æ¬¡æ€§ä¿®å¤æ‰€æœ‰åŒç±»é—®é¢˜
    â†“
Step 5: è®°å½•
    é”™é¢˜æœ¬ä¸­è®°å½•: "äº¤å‰æ£€æŸ¥å‘ç° N å¤„åŒç±»é—®é¢˜, å·²å…¨éƒ¨ä¿®å¤"
```

---

### 3.6 é¡¹ç›®å¤ç”¨è®°å¿† (Project Memory)

> ä¸ ERROR-BOOK ä¸¥æ ¼åˆ†ç¦»ï¼š
> - ERROR-BOOK = é˜²å¤çŠ¯ï¼ˆé”™è¯¯ç»éªŒï¼‰
> - PROJECT-MEMORY = å¯å¤ç”¨éœ€æ±‚ï¼ˆæ­£å‘çº¦æŸï¼‰

**å­˜å‚¨ä½ç½®**
```
.agent/projects/{project}/data/progress/PROJECT-MEMORY.md
```

**è®°å½•èŒƒå›´ï¼ˆä»…æ­£å‘å¤ç”¨ï¼‰**
- UI/UX é£æ ¼åå¥½ä¸äº¤äº’çº¦æŸ
- æ•°æ®å£å¾„ã€å­—æ®µè¯­ä¹‰ã€å‘½åè§„èŒƒ
- ä¸šåŠ¡è§„åˆ™ä¸é•¿æœŸçº¦æŸ
- é›†æˆåè®®çº¦å®šï¼ˆå­—æ®µ/å¹‚ç­‰/é‡è¯•ï¼‰

**ç¦æ­¢å†™å…¥**
- Bug/è¿”å·¥/å¤±è´¥æ•™è®­ï¼ˆå¿…é¡»è¿›å…¥ ERROR-BOOKï¼‰
- ä¸€æ¬¡æ€§ä¸´æ—¶è¿›å±•ï¼ˆå†™ TRACKERï¼‰

**æ‰§è¡Œè§„åˆ™ï¼ˆå¼ºåˆ¶ï¼‰**
1. æ–°ä»»åŠ¡å¼€å§‹å…ˆè¯» PROJECT-MEMORY
2. ä¸å·²æ²‰æ·€è§„åˆ™å†²çªæ—¶å…ˆç¡®è®¤
3. ä»»åŠ¡ç»“æŸå°†å¯å¤ç”¨éœ€æ±‚å¢é‡å†™å›

---

### 3.7 å»é‡ä¸åŠ æƒï¼ˆERROR-BOOK + PROJECT-MEMORY é€šç”¨ï¼‰

**ç›®æ ‡ï¼šåªä¿ç•™å”¯ä¸€æ¡ç›®ï¼Œé‡å¤å‡ºç°åªåŠ æƒï¼Œä¸é‡å¤å½•å…¥ã€‚**

æ‰§è¡Œè§„åˆ™ï¼š
1. æ–°æ¡ç›®å…¥åº“å‰å…ˆåšâ€œå…³é”®è¯ + æŒ‡çº¹â€åŒ¹é…ï¼ˆæ¨¡å—/åœºæ™¯/åæœï¼‰ã€‚
2. è‹¥å‘½ä¸­å·²æœ‰æ¡ç›®ï¼š
   - `count += 1`
   - `weight += 1`ï¼ˆç”¨æˆ·æ˜ç¡®å¼ºè°ƒå¯ `+2`ï¼‰
   - æ›´æ–° `last_seen` ä¸æœ€è¿‘è¯æ®
   - **ç¦æ­¢æ–°å¢é‡å¤æ¡ç›®**
3. è‹¥æœªå‘½ä¸­ï¼šåˆ›å»ºæ–°æ¡ç›®å¹¶åˆå§‹åŒ– `count=1, weight=1`ã€‚
4. æ’åºè§„åˆ™ï¼šæŒ‰ `weight` é™åºï¼Œä½œä¸ºä¼˜å…ˆæ£€ç´¢ä¸é¢„è­¦é¡ºåºã€‚

æœ€å°å­—æ®µï¼ˆå»ºè®®ï¼‰ï¼š
- `id`ï¼ˆERR-xxx / MEM-xxxï¼‰
- `keywords`
- `fingerprint`ï¼ˆå»é‡é”®ï¼‰
- `count`ï¼ˆå‡ºç°æ¬¡æ•°ï¼‰
- `weight`ï¼ˆä¼˜å…ˆæƒé‡ï¼‰
- `last_seen`ï¼ˆæœ€è¿‘å‡ºç°æ—¶é—´ï¼‰


## Â§4 å¤§ä»»åŠ¡è§„åˆ’ (å¼ºåˆ¶)

> **ä¿®æ”¹ â‰¥ 3 ä¸ªæ–‡ä»¶çš„ä»»åŠ¡, å¿…é¡»å…ˆåšè§„åˆ’, æŒ‰è®¡åˆ’é€æ­¥æ‰§è¡Œã€‚**

### 4.1 åˆ¤å®šæ ‡å‡†

| è§„æ¨¡ | æ–‡ä»¶æ•° | æ˜¯å¦éœ€è¦è§„åˆ’ |
|------|--------|-------------|
| Small | 1-2 | âŒ ç›´æ¥æ‰§è¡Œ |
| Medium | 3-5 | âœ… ç®€åŒ–è§„åˆ’ |
| Large | 6-15 | âœ… å®Œæ•´è§„åˆ’ + åˆ†é˜¶æ®µ |
| X-Large | 15+ | âœ… å®Œæ•´è§„åˆ’ + åˆ†ä¼šè¯ |

### 4.2 ç®€åŒ–è§„åˆ’ (Medium)

```markdown
## ğŸ“‹ æ‰§è¡Œè®¡åˆ’: {ä»»åŠ¡å}

å˜æ›´èŒƒå›´: {N} ä¸ªæ–‡ä»¶
é¢„ä¼°: {M} æ­¥

| # | æ“ä½œ | æ–‡ä»¶ | ä¾èµ– |
|---|------|------|------|
| 1 | {æè¿°} | `path/to/file1` | æ—  |
| 2 | {æè¿°} | `path/to/file2` | #1 |
| 3 | {æè¿°} | `path/to/file3` | #2 |

éªŒè¯: {éªŒè¯å‘½ä»¤}
```

### 4.3 å®Œæ•´è§„åˆ’ (Large/X-Large)

```markdown
## ğŸ“‹ æ‰§è¡Œè®¡åˆ’: {ä»»åŠ¡å}

### æ¦‚è¦
- å˜æ›´èŒƒå›´: {N} æ–‡ä»¶
- æ¶‰åŠåŸŸ: {äº§å“/æœåŠ¡/å¹³å°}
- é¢„ä¼°æ­¥éª¤: {M} æ­¥
- æ˜¯å¦åˆ†ä¼šè¯: {æ˜¯/å¦}

### é£é™©åˆ†æ
| é£é™© | å½±å“ | ç¼“è§£ |
|------|------|------|
| {é£é™©1} | ğŸ”´ é«˜ | {æªæ–½} |

### Phase 1: {é˜¶æ®µå}
| # | æ“ä½œ | æ–‡ä»¶ | ç±»å‹ | éªŒè¯ |
|---|------|------|------|------|
| 1 | {æè¿°} | `path` | æ–°å¢/ä¿®æ”¹ | {å‘½ä»¤} |

ğŸ“Œ Phase 1 éªŒè¯ç‚¹: {éªŒè¯å‘½ä»¤}

### Phase 2: {é˜¶æ®µå}
...

ğŸ“Œ Phase 2 éªŒè¯ç‚¹: {éªŒè¯å‘½ä»¤}
```

### 4.4 æ‰§è¡Œçºªå¾‹

```
è§„åˆ™ 1: è®¡åˆ’å†™å¥½åå‘ç”¨æˆ·ç¡®è®¤, ä¸å¯è·³è¿‡
è§„åˆ™ 2: æŒ‰æ­¥éª¤é¡ºåºæ‰§è¡Œ, ä¸å¯å¹¶è¡Œè·³æ­¥
è§„åˆ™ 3: æ¯ä¸ª Phase å®Œæˆåæ‰§è¡ŒéªŒè¯ç‚¹
è§„åˆ™ 4: éªŒè¯ä¸é€šè¿‡åˆ™åœä¸‹, ä¸ç»§ç»­ä¸‹ä¸€ Phase
è§„åˆ™ 5: è®¡åˆ’å˜æ›´éœ€è¦å‘ŠçŸ¥ç”¨æˆ·
```

---

## Â§5 ä¸Šä¸‹æ–‡æ™ºèƒ½çº¦æŸ

> **Token æ˜¯æœ‰é™èµ„æºã€‚æ™ºèƒ½ç®¡ç† = åŠ è½½æœ€å°‘ä½†ç²¾å‡†çš„ä¿¡æ¯ã€‚**

### 5.1 åŠ è½½çºªå¾‹

```
é˜¶æ®µ 1 (éœ€æ±‚): åªåŠ è½½ PM SOP çš„éœ€æ±‚ç›¸å…³ section
é˜¶æ®µ 2 (åˆ†é…): åªåŠ è½½ CTO SOP + å‘½ä¸­çš„åŸŸç´¢å¼•
é˜¶æ®µ 3 (æ‰§è¡Œ): åªåŠ è½½å‘½ä¸­çš„å·¥ç¨‹å¸ˆ SOP section
é˜¶æ®µ 4 (å®¡æ ¸): åªåŠ è½½ QA SOP çš„å®¡è®¡æ¨¡æ¿
é˜¶æ®µ 5 (äº¤ä»˜): åªåŠ è½½ PM SOP çš„äº¤ä»˜ section

æ¯ä¸ªé˜¶æ®µå®Œæˆå: é‡Šæ”¾è¯¥é˜¶æ®µçš„ SOP, åŠ è½½ä¸‹ä¸€é˜¶æ®µ
```

### 5.2 æ–‡ä»¶è¯»å–çº¦æŸ

| æ“ä½œ | è§„åˆ™ |
|------|------|
| è¯»ä»£ç æ–‡ä»¶ | å…ˆè¯» outline, å†è¯»å…·ä½“å‡½æ•°, ä¸è¦å…¨è¯» |
| è¯» SOP | å…ˆè¯»è·¯ç”±è¡¨, å†è¯»å‘½ä¸­ section |
| è¯»å·¥å…·åº“ | å…ˆè¯» INDEX, å†è¯»å…·ä½“åˆ‡ç‰‡ |
| è¯» Spec | å…¨è¯» (Spec æ˜¯çœŸç›¸æº, ä¸å¯çœç•¥) |
| è¯»è¿½è¸ªå™¨ | å…¨è¯» (è¿½è¸ªå™¨ < 50 è¡Œ, å¯ä»¥å…¨è¯») |
| è¯»é”™é¢˜æœ¬ | å…ˆè¯»å…³é”®è¯ç´¢å¼•, å‘½ä¸­æ‰è¯»æ¡ç›® |

### 5.3 ä¸Šä¸‹æ–‡é‡Šæ”¾æ—¶æœº

```
å·¥ç¨‹å¸ˆ SOP è¯»å®Œ + æ‰§è¡Œå®Œæ¯• â†’ é‡Šæ”¾ SOP å†…å®¹
L3 å·¥å…·å‚è€ƒå®Œ â†’ ç«‹å³é‡Šæ”¾
å®Œå·¥æŠ¥å‘Šå†™å®Œ â†’ é‡Šæ”¾å·¥å• + SOP å†…å®¹
QA å®¡è®¡å®Œ â†’ é‡Šæ”¾å®¡è®¡ç›¸å…³æ–‡ä»¶
äº¤ä»˜å®Œæˆ â†’ é‡Šæ”¾æ‰€æœ‰, åªä¿ç•™ç»“è®º
```

### 5.4 ä¸Šä¸‹æ–‡æº¢å‡ºé¢„è­¦

```
Agent è‡ªç›‘æ§:
  - å¯¹è¯è½®æ¬¡ > 20 â†’ æ£€æŸ¥æ˜¯å¦éœ€è¦ä¿å­˜æ£€æŸ¥ç‚¹
  - åŒä¸€æ–‡ä»¶è¢«è¯» > 2 æ¬¡ â†’ è¯´æ˜ä¿¡æ¯æ²¡è¢«è®°ä½, è€ƒè™‘ä¿å­˜å…³é”®ç‚¹
  - ç´¯è®¡è¯»å–æ–‡ä»¶ > 10 ä¸ª â†’ æ˜¯å¦èƒ½é‡Šæ”¾å·²å®Œæˆé˜¶æ®µçš„æ–‡ä»¶?
```

---

## Â§6 L3 å·¥å…·åº“å¼•ç”¨

| åœºæ™¯ | å·¥å…· | è·¯å¾„ | è¯´æ˜ |
|------|------|------|------|
| ä¸Šä¸‹æ–‡ç®¡ç† | Agent Mastery Â§4 | `skills/agent-mastery.md` Â§4 | çª—å£ç®¡ç†è¯¦ç»†ç­–ç•¥ |
| è·¨ä¼šè¯æ¥åŠ› | Handoff | `skills/handoff.md` | æ£€æŸ¥ç‚¹ä¿å­˜/æ¢å¤åè®® |
| è®°å¿†æ¶æ„å‚è€ƒ | Claude-Mem: æ¶æ„ | `warehouse/tools/claude-mem/01-architecture.md` | v1â†’v10 æ¼”è¿› + Hook + DB |
| æœç´¢/æ£€ç´¢è®¾è®¡ | Claude-Mem: MCP æœç´¢ | `warehouse/tools/claude-mem/02-mcp-search.md` | 3å±‚æ¸è¿›æ£€ç´¢ + 5 MCP Tools |
| ä¸Šä¸‹æ–‡å·¥ç¨‹ | Claude-Mem: ä¸Šä¸‹æ–‡ | `warehouse/tools/claude-mem/03-context-engineering.md` | æ¸è¿›æŠ«éœ² + Anti-patterns |
| æŒç»­å­¦ä¹  | Agent Mastery Â§6 | `skills/agent-mastery.md` Â§6 | æœ¬èƒ½æ¨¡å‹ + ç½®ä¿¡åº¦ |

---

*Version: 1.0.0 â€” è®°å¿†ç®¡ç† SOP (è¿½è¸ªå™¨/éªŒæ”¶ä¿æŠ¤/é”™é¢˜æœ¬/è§„åˆ’/ä¸Šä¸‹æ–‡çº¦æŸ)*
*Created: 2026-02-12*
