# å‰ç«¯è‡ªæ£€è§„åˆ™ (Frontend Engineer Self-Check)

> **ç”¨é€”**: å‰ç«¯å·¥ç¨‹å¸ˆæäº¤å‰å¿…é¡»é€é¡¹è¿‡å…³ã€‚è¿å ğŸ”´ é¡¹ = é©³å›ã€‚
> **ä¸ `skills/frontend.md` åŒºåˆ«**: Skills = å­¦ä¹ , Rules = å¼ºåˆ¶æ£€æŸ¥ã€‚

---

## 1. æäº¤å‰ Checklist (é€é¡¹æ‰“å‹¾)

### ğŸ”´ CRITICAL â€” è¿åå³é©³å›

- [ ] **Server Component ä¸­æ—  useState/useEffect** â€” åªåœ¨ `'use client'` æ–‡ä»¶ä¸­ä½¿ç”¨
- [ ] **æ—  `any` ç±»å‹** â€” æ‰€æœ‰å˜é‡/Props/è¿”å›å€¼æœ‰æ˜ç¡®ç±»å‹
- [ ] **useEffect ä¾èµ–æ•°ç»„å®Œæ•´** â€” ä¸ä½¿ç”¨ `// eslint-disable-next-line`
- [ ] **Render ä¸­æ—  setState** â€” ä¸åœ¨ç»„ä»¶ä¸»ä½“ä¸­ç›´æ¥è°ƒç”¨ setState (æ— é™å¾ªç¯)
- [ ] **æ—  XSS é£é™©** â€” ä¸ä½¿ç”¨ `dangerouslySetInnerHTML` æ­é…ç”¨æˆ·è¾“å…¥
- [ ] **å¯†é’¥ä¸åœ¨å‰ç«¯** â€” æ—  API key/secret åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­

### ğŸŸ¡ HIGH â€” å¿…é¡»ä¿®å¤ååˆå¹¶

- [ ] **Loading/Error/Empty ä¸‰æ€å®Œæ•´** â€” æ¯ä¸ªæ•°æ®é¡µé¢éƒ½æœ‰
- [ ] **åˆ—è¡¨ key ä½¿ç”¨å”¯ä¸€ ID** â€” ä¸ç”¨ index
- [ ] **i18n key å®Œæ•´** â€” æ–°å¢æ–‡æœ¬åœ¨æ‰€æœ‰è¯­è¨€æ–‡ä»¶ä¸­å­˜åœ¨
- [ ] **ä¸»é¢˜å…¼å®¹** â€” æ–°å¢ UI åœ¨ light/dark ä¸‹éƒ½æ­£ç¡®
- [ ] **å“åº”å¼** â€” æ–°å¢ UI åœ¨ mobile/tablet/desktop éƒ½ä¸å´©æºƒ
- [ ] **æ—  console.log** â€” è°ƒè¯•ç”¨çš„å…¨éƒ¨åˆ é™¤
- [ ] **æ—  TODO æ®‹ç•™** â€” æäº¤ä»£ç ä¸­ä¸å« TODO (æˆ–å·²æœ‰å¯¹åº” ticket)

---

## 2. React/Next.js åæ¨¡å¼é»‘åå•

| # | åæ¨¡å¼ | é—®é¢˜ | æ­£ç¡®åšæ³• |
|---|--------|------|---------|
| F1 | `useEffect(fn, [])` é…åˆ `setState` åšæ•°æ®è·å– | ç«æ€æ¡ä»¶/é—ªçƒ | ç”¨ React Query `useQuery` |
| F2 | åœ¨çˆ¶ç»„ä»¶ render ä¸­å®šä¹‰å­ç»„ä»¶ | æ¯æ¬¡é‡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å®ä¾‹, çŠ¶æ€ä¸¢å¤± | æå–åˆ°æ–‡ä»¶çº§åˆ« |
| F3 | Prop Drilling > 3 å±‚ | å¯ç»´æŠ¤æ€§å·® | Context æˆ–çŠ¶æ€ç®¡ç†åº“ |
| F4 | ç›´æ¥æ“ä½œ DOM (`document.getElementById`) | ç»•è¿‡ React è™šæ‹Ÿ DOM | ç”¨ `useRef` |
| F5 | åœ¨ `useEffect` ä¸­è®¢é˜…ä½†ä¸æ¸…ç† | å†…å­˜æ³„æ¼ | è¿”å› cleanup å‡½æ•° |
| F6 | åœ¨ Server Component ä¸­ import Client åº“ | æ„å»ºå¤±è´¥/åŒ…è†¨èƒ€ | æ£€æŸ¥ `'use client'` è¾¹ç•Œ |
| F7 | ä½¿ç”¨ `style={{}}` åšå¤§é‡æ ·å¼ | æ¯æ¬¡æ¸²æŸ“åˆ›å»ºæ–°å¯¹è±¡ | ç”¨ CSS class / Tailwind |
| F8 | `useMemo`/`useCallback` æ»¥ç”¨ | ä¸å¿…è¦çš„è®°å¿†åŒ–å¼€é”€ | åªåœ¨æœ‰å®æµ‹æ€§èƒ½é—®é¢˜æ—¶ä½¿ç”¨ |
| F9 | åœ¨æ¡ä»¶/å¾ªç¯ä¸­ä½¿ç”¨ Hook | React Hooks è§„åˆ™è¿å | Hook åªåœ¨é¡¶å±‚ä½¿ç”¨ |
| F10 | å¿½ç•¥ TypeScript é”™è¯¯ (`@ts-ignore`) | ç±»å‹å®‰å…¨è¢«ç»•è¿‡ | ä¿®å¤ç±»å‹, éå¿½ç•¥ |

---

## 2.5 æƒé™ä¸å®‰å…¨è§„åˆ™ (Auth & Permission â€” 2026-02-21 å®¡è®¡ä¿®å¤)

> **æºè‡ª Users æ¨¡å—ä¼ä¸šçº§å®¡è®¡ã€‚å‰ç«¯æƒé™å¿…é¡»ä¸åç«¯å¯¹é½ã€‚**

### ğŸ”´ CRITICAL

- [ ] **æƒé™æ•æ„Ÿé¡µé¢å¿…é¡»æœ‰å®¢æˆ·ç«¯å®ˆå«** â€” æ£€æŸ¥ localStorage `user.permissions` ä¸­æ˜¯å¦æœ‰å¯¹åº” `module.*` å‰ç¼€çš„ `true` å€¼
- [ ] **æ‰€æœ‰ UI æ–‡æœ¬å¿…é¡» i18n** â€” ç¦æ­¢ä»»ä½•è¯­è¨€çš„ç¡¬ç¼–ç å­—ç¬¦ä¸²ï¼ˆå«ä¸­æ–‡ï¼‰, ç»Ÿä¸€ç”¨ `useTranslations(namespace)`
- [ ] **Access Denied é¡µé¢ç”¨ i18n** â€” ä½¿ç”¨ `useTranslations('auth')` çš„ `accessDenied.title/message` é”®
- [ ] **Security Code Dialog æ ‡ç­¾ i18n** â€” å®‰å…¨ç­‰çº§åç§° (`L0`~`L4`) ä½¿ç”¨ `auth.securityLevels.*` é”®, ä¸å¾—ç¡¬ç¼–ç 

### ğŸŸ¡ HIGH

- [ ] **æƒé™å˜æ›´å®æ—¶å“åº”** â€” ç»„ä»¶é¡»ç›‘å¬ `window.addEventListener('mgmt:user-updated', handler)`, æƒé™å˜æ›´åç«‹å³é‡æ–°è®¡ç®—
- [ ] **è§’è‰²æ˜¾ç¤ºå i18n** â€” AppleNav / ç”¨æˆ·è¯¦æƒ…ä¸­çš„è§’è‰²åç”¨ `nav.roleNames.*` é”®, ä¸ä½¿ç”¨ç¡¬ç¼–ç  roleMap
- [ ] **æ—¥æœŸæ ¼å¼åŒ–å¸¦æ—¶åŒº** â€” `toLocaleDateString` å¿…é¡»å¸¦ `{ timeZone: 'America/Los_Angeles' }` é€‰é¡¹
- [ ] **ä¸ç”¨ document.getElementById** â€” ç”¨ React state æˆ– `useRef` (åæ¨¡å¼ F4)

---

## 3. æ€§èƒ½çº¢çº¿

| æŒ‡æ ‡ | çº¢çº¿ | æ£€æµ‹æ–¹å¼ |
|------|------|---------|
| First Contentful Paint | â‰¤ 1.8s | Lighthouse |
| Bundle Size (gzipped) | é¡µé¢ JS â‰¤ 200KB | `next build` è¾“å‡º |
| åˆ—è¡¨è™šæ‹ŸåŒ– | åˆ—è¡¨ > 50 é¡¹å¿…é¡»è™šæ‹ŸåŒ– | ä»£ç å®¡æŸ¥ |
| å›¾ç‰‡ä¼˜åŒ– | å¿…é¡»ç”¨ `next/image` | ä»£ç å®¡æŸ¥ |
| Font åŠ è½½ | ç”¨ `next/font` é¿å… FOUT | ä»£ç å®¡æŸ¥ |

---

## 4. éªŒè¯å‘½ä»¤

```bash
# å‘½ä»¤è§ CONTEXT.md Â§5 å·¥å…·å‘½ä»¤é€ŸæŸ¥

# 1. ç±»å‹æ£€æŸ¥
{typecheck_cmd}      # æ ‡å‡†: é›¶é”™è¯¯

# 2. Lint
{lint_cmd}           # æ ‡å‡†: é›¶é”™è¯¯

# 3. æ„å»º
{build_cmd}          # æ ‡å‡†: âœ“ Compiled successfully

# 4. ä¸‰æ€æ£€æŸ¥ (æ‰‹åŠ¨)
# å¯¹æ¯ä¸ªæ–°å¢/ä¿®æ”¹çš„æ•°æ®é¡µé¢:
# âœ… æ­£å¸¸æ•°æ®èƒ½æ˜¾ç¤º
# âœ… ç©ºæ•°æ®æœ‰ Empty çŠ¶æ€
# âœ… åŠ è½½ä¸­æœ‰ Loading çŠ¶æ€
# âœ… ç½‘ç»œé”™è¯¯æœ‰ Error çŠ¶æ€

# 5. i18n æ£€æŸ¥
grep -r "t('" src/ --include="*.tsx" | grep -oE "t\('[^']+'\)" | sort -u > /tmp/used_keys.txt
# å¯¹æ¯” locale æ–‡ä»¶ç¡®è®¤æ‰€æœ‰ key å­˜åœ¨
```

---

*Version: 1.2.0 â€” æ–°å¢ Â§2.5 æƒé™ä¸å®‰å…¨è§„åˆ™ (Users æ¨¡å—å®¡è®¡ä¿®å¤)*
*Created: 2026-02-15 | Updated: 2026-02-21*
