# ECC è¯¦ç»†å‚è€ƒ: Agents + å®¡æŸ¥æ¸…å•

> **åŠ è½½æ—¶æœº**: éœ€è¦äº†è§£ ECC Agent è®¾è®¡ æˆ– ä»£ç å®¡æŸ¥æœ€ä½³å®è·µæ—¶

## 1. 12 ä¸ª Agent é€ŸæŸ¥

| Agent | èŒè´£ | é™å®šå·¥å…· |
|-------|------|---------|
| planner | éœ€æ±‚åˆ†æ â†’ å®ç°è®¡åˆ’ | Read, Grep, Glob |
| tdd-guide | TDD çº¢ç»¿é‡æ„ | Read, Grep, Bash |
| code-reviewer | ä»£ç å®¡æŸ¥ | Read, Grep, Glob |
| doc-updater | å˜æ›´åæ›´æ–°æ–‡æ¡£ | Read, Write |
| security-scanner | å®‰å…¨æ¼æ´æ£€æµ‹ | Read, Grep, Bash |
| debugger | è°ƒè¯•å®šä½ | Read, Grep, Bash |
| build-fixer | æ„å»ºé”™è¯¯ä¿®å¤ | Read, Write, Bash |
| refactorer | é‡æ„ (å•ä¸€èŒè´£) | Read, Write, Grep |
| git-manager | Git æ“ä½œ | Bash |
| ci-helper | CI/CD ç®¡é“ | Read, Bash |
| pm2-manager | è¿›ç¨‹ç®¡ç† | Bash |
| skill-creator | ä» Git å†å²ç”Ÿæˆ Skill | Read, Write |

## 2. Planner Agent è¯¦è§£

### èŒè´£
- åˆ†æéœ€æ±‚ â†’ åˆ›å»ºè¯¦ç»†å®ç°è®¡åˆ’
- æ‹†è§£å¤æ‚åŠŸèƒ½ä¸ºå¯ç®¡ç†çš„æ­¥éª¤
- è¯†åˆ«ä¾èµ–å’Œæ½œåœ¨é£é™©
- å»ºè®®æœ€ä¼˜å®ç°é¡ºåº

### è®¡åˆ’æ ¼å¼ (å¿…é¡»éµå¾ª)
```markdown
# Implementation Plan: [Feature Name]

## Overview
[2-3 å¥æ‘˜è¦]

## Requirements
- [éœ€æ±‚ 1]

## Architecture Changes
- [å˜æ›´ 1: æ–‡ä»¶è·¯å¾„ + æè¿°]

## Implementation Steps

### Phase 1: [é˜¶æ®µå]
1. **[æ­¥éª¤å]** (File: path/to/file)
   - Action: å…·ä½“æ“ä½œ
   - Why: åŸå› 
   - Dependencies: æ—  / ä¾èµ–æ­¥éª¤ X
   - Risk: Low/Medium/High

## Testing Strategy
- Unit: [è¦æµ‹çš„æ–‡ä»¶]
- Integration: [è¦æµ‹çš„æµç¨‹]
- E2E: [è¦æµ‹çš„ç”¨æˆ·è·¯å¾„]

## Risks & Mitigations
- **Risk**: [æè¿°] â†’ Mitigation: [æ–¹æ¡ˆ]

## Success Criteria
- [ ] æ ‡å‡† 1
```

### æœ€ä½³å®è·µ
1. **å…·ä½“**: ç”¨ç²¾ç¡®æ–‡ä»¶è·¯å¾„ã€å‡½æ•°åã€å˜é‡å
2. **è¾¹ç•Œ**: è€ƒè™‘é”™è¯¯åœºæ™¯ã€null å€¼ã€ç©ºçŠ¶æ€
3. **æœ€å°**: ä¼˜å…ˆæ‰©å±•ç°æœ‰ä»£ç è€Œéé‡å†™
4. **æ¨¡å¼**: éµå¾ªé¡¹ç›®ç°æœ‰çº¦å®š
5. **å¯æµ‹**: ç»“æ„åŒ–å˜æ›´ä½¿å…¶æ˜“äºæµ‹è¯•
6. **å¢é‡**: æ¯æ­¥å¯ç‹¬ç«‹éªŒè¯
7. **è®°å½•**: è§£é‡Š why è€Œéä»… what

### çº¢æ——æ¸…å• (è®¡åˆ’ä¸­å¿…é¡»æ£€æŸ¥)
- å¤§å‡½æ•° (>50 è¡Œ)
- æ·±åµŒå¥— (>4 å±‚)
- é‡å¤ä»£ç 
- ç¼ºå°‘é”™è¯¯å¤„ç†
- ç¡¬ç¼–ç å€¼
- ç¼ºå°‘æµ‹è¯•
- æ€§èƒ½ç“¶é¢ˆ
- æ— æµ‹è¯•ç­–ç•¥
- æ­¥éª¤æ— æ˜ç¡®æ–‡ä»¶è·¯å¾„
- é˜¶æ®µæ— æ³•ç‹¬ç«‹äº¤ä»˜

## 3. Code Reviewer Agent è¯¦è§£

### å®¡æŸ¥æµç¨‹
1. `git diff --staged` + `git diff` æŸ¥çœ‹æ‰€æœ‰å˜æ›´
2. è¯†åˆ«å˜æ›´æ–‡ä»¶ â†’ å…³è”åŠŸèƒ½ â†’ ç†è§£è¿æ¥
3. è¯»å‘¨å›´ä»£ç  (ä¸å­¤ç«‹å®¡æŸ¥, è¯»å®Œæ•´æ–‡ä»¶)
4. æŒ‰ CRITICAL â†’ LOW é¡ºåºè¿‡æ¸…å•
5. åªæŠ¥å‘Š **>80% ç¡®ä¿¡** æ˜¯çœŸé—®é¢˜çš„å‘ç°

### ç½®ä¿¡åº¦è¿‡æ»¤
- **æŠ¥å‘Š**: >80% ç¡®ä¿¡æ˜¯çœŸé—®é¢˜
- **è·³è¿‡**: é£æ ¼åå¥½ (é™¤éè¿åé¡¹ç›®çº¦å®š)
- **è·³è¿‡**: æœªå˜æ›´ä»£ç ä¸­çš„é—®é¢˜ (é™¤éæ˜¯å®‰å…¨é—®é¢˜)
- **åˆå¹¶**: åŒç±»é—®é¢˜ (å¦‚ "5 ä¸ªå‡½æ•°ç¼ºé”™è¯¯å¤„ç†" è€Œé 5 æ¡)
- **ä¼˜å…ˆ**: å¯èƒ½å¯¼è‡´ bug / å®‰å…¨æ¼æ´ / æ•°æ®ä¸¢å¤±çš„é—®é¢˜

### å®¡æŸ¥æ¸…å• â€” CRITICAL (å®‰å…¨)
- âŒ ç¡¬ç¼–ç å‡­æ® (API key, å¯†ç , token)
- âŒ SQL æ³¨å…¥ (å­—ç¬¦ä¸²æ‹¼æ¥ vs å‚æ•°åŒ–æŸ¥è¯¢)
- âŒ XSS (æœªè½¬ä¹‰ç”¨æˆ·è¾“å…¥æ¸²æŸ“åˆ° HTML)
- âŒ è·¯å¾„ç©¿è¶Š (ç”¨æˆ·æ§åˆ¶çš„æ–‡ä»¶è·¯å¾„æœªæ¸…ç†)
- âŒ CSRF (æ— ä¿æŠ¤çš„çŠ¶æ€å˜æ›´ç«¯ç‚¹)
- âŒ è®¤è¯ç»•è¿‡ (å—ä¿æŠ¤è·¯ç”±ç¼º auth æ£€æŸ¥)
- âŒ ä¸å®‰å…¨ä¾èµ– (å·²çŸ¥æ¼æ´åŒ…)
- âŒ æ—¥å¿—æ³„å¯† (è®°å½•äº† token/å¯†ç /PII)

### å®¡æŸ¥æ¸…å• â€” HIGH (ä»£ç è´¨é‡)
- å¤§å‡½æ•° (>50 è¡Œ) â†’ æ‹†åˆ†
- å¤§æ–‡ä»¶ (>800 è¡Œ) â†’ æå–
- æ·±åµŒå¥— (>4 å±‚) â†’ æ—©è¿”å›
- ç¼ºå°‘é”™è¯¯å¤„ç† â†’ æœªå¤„ç† Promise
- å˜å¼‚æ¨¡å¼ â†’ ç”¨ä¸å¯å˜ (spread/map/filter)
- console.log â†’ åˆå¹¶å‰åˆ é™¤
- ç¼ºå°‘æµ‹è¯• â†’ æ–°è·¯å¾„è¦æœ‰è¦†ç›–
- æ­»ä»£ç  â†’ æ³¨é‡Šä»£ç /æœªç”¨ import

### å®¡æŸ¥æ¸…å• â€” HIGH (React/Next.js ç‰¹å®š)
- useEffect/useMemo ä¾èµ–æ•°ç»„ä¸å®Œæ•´
- render ä¸­è°ƒ setState (æ— é™å¾ªç¯)
- åˆ—è¡¨ç”¨ index åš key
- Prop ç©¿é€ >3 å±‚ (ç”¨ Context)
- ç¼ºå°‘ memo çš„æ˜‚è´µè®¡ç®—
- Server Component ç”¨äº† useState/useEffect
- ç¼ºå°‘ Loading/Error/Empty ä¸‰æ€
- è¿‡æœŸé—­åŒ… (äº‹ä»¶å¤„ç†å™¨æ•è·è¿‡æœŸçŠ¶æ€)

### å®¡æŸ¥æ¸…å• â€” HIGH (åç«¯ç‰¹å®š)
- æœªéªŒè¯è¾“å…¥ (è¯·æ±‚ä½“æ—  schema æ ¡éªŒ)
- ç¼ºå°‘é™æµ (å…¬å¼€ç«¯ç‚¹æ—  throttle)
- æ— ç•ŒæŸ¥è¯¢ (SELECT * æ—  LIMIT)
- N+1 æŸ¥è¯¢ (å¾ªç¯ä¸­æŸ¥å…³è”æ•°æ®)
- ç¼ºå°‘è¶…æ—¶ (å¤–éƒ¨ HTTP è°ƒç”¨æ—  timeout)
- é”™è¯¯ä¿¡æ¯æ³„éœ² (å†…éƒ¨é”™è¯¯å‘ç»™å®¢æˆ·ç«¯)
- ç¼ºå°‘ CORS é…ç½®

### å®¡æŸ¥æ¸…å• â€” MEDIUM (æ€§èƒ½)
- ä½æ•ˆç®—æ³• (O(nÂ²) å¯ä¼˜åŒ–ä¸º O(n log n))
- ä¸å¿…è¦é‡æ¸²æŸ“
- å¤§ bundle (æ•´åŒ…å¯¼å…¥è€Œé tree-shake)
- ç¼ºå°‘ç¼“å­˜
- æœªä¼˜åŒ–å›¾ç‰‡
- åŒæ­¥ I/O åœ¨å¼‚æ­¥ä¸Šä¸‹æ–‡ä¸­

### å®¡æŸ¥è¾“å‡ºæ ¼å¼
```markdown
## [FILE_PATH]

### ğŸ”´ CRITICAL: [Issue Title]
**Line**: [number]
**Issue**: [description]
**Fix**: [fix]

---

## Review Summary
| Severity | Count | Status |
|----------|-------|--------|
| CRITICAL | 0     | pass   |
| HIGH     | 2     | warn   |
| MEDIUM   | 3     | info   |
| LOW      | 1     | note   |

Verdict: WARNING â€” 2 HIGH issues should be resolved before merge.
```
