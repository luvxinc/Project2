# MGMT ERP â€” é¡¹ç›®çº¦å®š

> **MGMT ç‰¹æœ‰çš„æŠ€æœ¯çº¦å®šã€‚æ³›åŒ–å·¥ç¨‹è§„èŒƒåœ¨ `core/skills/` ä¸­ã€‚**

---

## 1. æ—¥å¿—å››è¡¨æ¶æ„ (V2)

| è¡¨ | ç”¨é€” | å†™å…¥é¢‘ç‡ |
|----|------|----------|
| `access_logs` | API è®¿é—®æ—¥å¿— | æ¯æ¬¡è¯·æ±‚ |
| `business_logs` | ä¸šåŠ¡æ“ä½œæ—¥å¿— | å†™æ“ä½œæ—¶ |
| `error_logs` | é”™è¯¯/å¼‚å¸¸æ—¥å¿— | å¼‚å¸¸æ—¶ |
| `audit_logs` | å®‰å…¨å®¡è®¡æ—¥å¿— | æ•æ„Ÿæ“ä½œæ—¶ |

> V3 å°†è¿ç§»åˆ° OTel + Prometheus + Loki, ä½† PG å®¡è®¡è¡¨ä¿ç•™ç”¨äºåˆè§„ã€‚

---

## 2. i18n è§„èŒƒ

| çº¦å®š | å€¼ |
|------|-----|
| åº“ | `next-intl` |
| ä¸»è¦è¯­è¨€ | English + ä¸­æ–‡ |
| å‘½åç©ºé—´ | æŒ‰æ¨¡å—åˆ’åˆ† (`users`, `products`, `vma`, ...) |
| å…¬å…±å‘½åç©ºé—´ | `common` (æŒ‰é’®/çŠ¶æ€/ç¡®è®¤ç­‰é€šç”¨æ–‡æœ¬) |
| æ³¨å…¥è§„åˆ™ | å­ç»„ä»¶å¿…é¡»é€šè¿‡ props æ¥æ”¶ `t()` æˆ–ç‹¬ç«‹ `useTranslations` |
| æ–‡ä»¶ä½ç½® | `packages/shared/i18n/locales/{lang}/{namespace}.json` |

---

## 3. ä¸»é¢˜çº¦å®š

| çº¦å®š | å€¼ |
|------|-----|
| è®¾è®¡é£æ ¼ | Apple iOS/macOS |
| ä¸»é¢˜å¼•æ“ | `ThemeContext.tsx` (è¯­ä¹‰åŒ–) |
| CSS å˜é‡ | å…¨å±€ Token (è§ `core/workflows/ui.md`) |
| æš—è‰²æ¨¡å¼ | å¼ºåˆ¶æ”¯æŒ |
| æ¯›ç»ç’ƒ | `backdrop-filter: blur(20px)` |
| å‚å•† Logo | ä¾‹å¤–åè®® â€” TruValve/P-Valve ä½¿ç”¨åŸå§‹ PNG |

---

## 4. å¯†ç /å®‰å…¨ç ç­–ç•¥

> âš ï¸ ç”Ÿäº§ç¯å¢ƒå¯†ç å’Œå®‰å…¨ç ä¸å…è®¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ã€‚
> å­˜å‚¨åœ¨æ•°æ®åº“ä¸­, å— L4 ä¿æŠ¤ã€‚

| é¡¹ç›® | ç®¡ç†æ–¹å¼ |
|------|----------|
| ç”¨æˆ·å¯†ç  | bcrypt hash, æ•°æ®åº“å­˜å‚¨ |
| L1-L4 å®‰å…¨ç  | æ•°æ®åº“ `security_codes` è¡¨ |
| å¯†ç é‡ç½® | ä»… Superuser é€šè¿‡ L4 æ“ä½œ |
| é”å®šç­–ç•¥ | Redis è®¡æ•°å™¨, 5 æ¬¡å¤±è´¥é”å®š 15 åˆ†é’Ÿ |

---

## 5. ä»£ç ç»„ç»‡çº¦å®š

| çº¦å®š | V2 (å½“å‰) | V3 (ç›®æ ‡) |
|------|----------|----------|
| åç«¯å…¥å£ | `apps/api/src/` | `apps/api-v3/src/` |
| å‰ç«¯å…¥å£ | `apps/web/src/` | `apps/web/src/` (ä¿ç•™) |
| å…±äº«åŒ… | `packages/shared/` | `packages/shared/` (ä¿ç•™) |
| Schema | `prisma/schema/` | `db/migration/` |
| Agent é…ç½® | `.agent/` | `.agent/` (æœ¬æ–‡ä»¶æ‰€åœ¨) |

---

## 6. é“å¾‹æ¸…å•

| ç¼–å· | é“å¾‹ | ä¸¥é‡çº§ |
|------|------|--------|
| R0 | **æ•°æ®ä¿æŠ¤**: ä»»ä½•å¯èƒ½å¯¼è‡´æ•°æ®åº“æ•°æ®ä¸¢å¤±çš„æ“ä½œ, ç¦æ­¢è‡ªåŠ¨æ‰§è¡Œ | ğŸ”´ |
| R1 | **å¤ªå¹³æ´‹æ—¶åŒº**: å…¨é¡¹ç›® `America/Los_Angeles` | ğŸ”´ |
| R2 | **æœ€å°ä¿®æ”¹**: åªä¿®ç”¨æˆ·è¦æ±‚çš„, è¶…å‡ºèŒƒå›´å…ˆé—® | ğŸ”´ |
| R3 | **èº«ä»½ä¿æŠ¤**: ä¸å…è®¸æ›´æ”¹é¡¹ç›®å“ç‰Œ/Logo/åç§° | ğŸ”´ |
| R4 | **æ—¥å¿—ä¼˜å…ˆ**: æ‰€æœ‰å†™æ“ä½œå¿…é¡»æœ‰å®¡è®¡æ—¥å¿— | ğŸŸ¡ |
| R5 | **Agent è¡Œä¸º**: éµå¾ª `core/skills/agent-mastery.md` éªŒè¯å¾ªç¯ | ğŸŸ¡ |

---

*MGMT ERP Project Spec â€” Last Updated: 2026-02-11*
