我们需要制作一个新的功能 外包装条形码
放在产品模块下 需要建立子路由 barcode
**注意此功能 需要在用户权限管理-权限配置-加入 产品模块的配置权限 需要加载此父类决策树下
**注意此功能 需要在用户权限管理-密码策略-加入 需要加入到 产品模块下面

此功能界面需保持一致的header设计, 并采用公有页面 的 向导 和 globalmodal 做页面设计 和 输入密码验证管理
全部功能页面需要采用苹果UI风格设计,整体风格和色调需要和其他功能相同

向导流程为: 输入数据->验证数据->生成条形码->查看和下载PDF
四个页面都需要有一个操作须知窗口,根据页面内容

页面设计如下:
流程1: 输入数据
这里设计如同 产品模块-新增 产品的第一个填写数据的页面 但是有一定区别
输入数据只需要3列
第一列: SKU
    此列为菜单选项用户不得输入,菜单源于数据库表Data_COGS的SKU列,用户只能从中选择一个
第二列: 每盒个数
    此列为用户输入框, 只接受数字
第三列: 每箱盒数
    此列为用户输入框, 只接受数字
注意: 第一个页面的操作须知需要告知用户, 如果需要添加单个产品不同数量和规格包装的情况请选择多行, 每行仅能选择一个量级数据, 还有若需要添加新SKU, 需要一步新增产品页面
这个页面同样拥有如同 新增产品向导 第一流程下面的 添加一行, 和 批量添加(5行) 两个按钮, 功能也一致 就是给表格添加行数 让用户录入更多数据

流程2: 验证数据
这个页面会读取用户在流程1里输入的数据(为空的行不读取)
用表格的形式展示用户输入的数据, 若数据很多行, 则需要用鼠表滚轮查看, 不得超过页面高度
同时需要 检查用户录入的每行 的第二列和第三列的数据为大于1的正整数
若验证不通过, 则生成条形码按钮会变成灰色 无法交互, 并且高亮错误数据, 让用户按返回键修改 这里的逻辑和 产品板块-产品数据维护 的验证数据页面一致
按钮 生成条形码, 点击后会触发globalmodal的密码验证
密码验证的key需要先设置好 这个你可以参考相关内容去做好先


流程3: 生成条形码
这个页面会读取之前验证通过的所有数据

流程4: 查看和下载PDF
此页面类似于完成页面, 需要提示用户操作成功或者失败, 失败要说明原因
若成功, 需要提示用户 总共用户写入多少行数据, 生成多少个PDF 最下方有返回和重新一轮的按钮
然后需要展示所有生成的PDF 这里的UI设计类似 销售模块-报表中心
所有的PDF以文件列表的形式展示, 用户可以点开单个查看 或者点击单个下载, 也需要包含打包下载所有ZIP和清空所有文件

用户点击查看的时候需要弹出一个新的页面 展示PDF, 但是这里不需要筛选和搜索功能, 仅展示PDF
记得返回按钮



后端逻辑
当读取前端数据验证后的用户录入的数据
每一行数据都需要生成一个PDF, 也就是有几行数据 就要生成几个对应的PDF
每行数据生成PDF的处理如下

PDF的尺寸要求为满足打印的4"x6"

需要写入PDF的列印如下
第一行: SKU 
这里是SKU这个标题页就是写入这个字符串,英文大写, 加粗字体

第二行: SKU
这里是该行中实际的SKU取值(该行第一列)
但是需要在这个字符串前面加一个SK
例如若读取一个SKU为  ABCDE, 那么实际写入为 SKABCDE
写入时需要将此字符串转化为条形码, 制式为Code128

第三行: Qty/Box
这里是标题就是写入这个字符串,英文大写, 加粗字体
写入时需要将此字符串转化为条形码, 制式为Code128

第四行: 每盒个数 (数字)
这里是该行中实际的每盒个数的取值(该行第二列), 但是需要在这个字符串前面添加QT
例如若读取一个每盒个数为12, 那么实际写入为 QT12

第五行: Box/Ctn
这里是标题就是写入这个字符串,英文大写, 加粗字体
写入时需要将此字符串转化为条形码, 制式为Code128

第六行: 每箱盒数(该行中实际的每箱盒数取值)
这里是该行中实际的每箱盒数的取值(该行第三列), 但是需要在这个字符串前面添加CT
例如若读取一个每箱盒数为3, 那么实际写入为 CT3
写入时需要将此字符串转化为条形码, 制式为Code128

注意条这些内容都必须设计到条形码都需要上下留有余量, 也就是不能重叠信息
条形码与文字行需要有比较大的间距, 且所有内容都是居中对齐

你要合理调节内容在PDF中的位置

生成的PDF需要命名, 命名规则为  SKU.每盒个数->每箱盒数.pdf
SKU对应该行的SKU, 每盒个数对应该行的第二列, 每箱盒数对应该行的第三列    



